var ia=Object.defineProperty;var to=Object.getOwnPropertySymbols;var na=Object.prototype.hasOwnProperty,oa=Object.prototype.propertyIsEnumerable;var io=(t,e,i)=>e in t?ia(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Zi=(t,e)=>{for(var i in e||(e={}))na.call(e,i)&&io(t,i,e[i]);if(to)for(var i of to(e))oa.call(e,i)&&io(t,i,e[i]);return t};import{o as qt}from"./side-effect-manager.es.789c7667.js";import{a as ra}from"./index.fadb65f9.js";import{r as no}from"./randomColor.65e16996.js";import{e as sa}from"./ensure-attributes.2c659353.js";import"./modulepreload-polyfill.b7f2da20.js";import"./vendor.0047f732.js";var aa=`.netless-app-monaco-editor-container{width:100%;height:100%;overflow:hidden;display:flex;flex-direction:column}.netless-app-monaco-editor{flex:1;overflow:hidden}.netless-app-monaco-readonly .cursors-layer>.cursor{display:none!important}.netless-app-monaco-selection{background:rgba(250,129,0,.5)}.netless-app-monaco-cursor{--content: "Guest";--bg-color: orange;--text-color: #fff;--label: none;--dot: block;display:none;margin-left:-1px;border-left:2px solid var(--bg-color);transition:top .2s,left .2s;user-select:none}.netless-app-monaco-cursor:before{display:var(--label);content:var(--content);position:absolute;z-index:1;top:-18px;left:-4px;font-size:12px;line-height:20px;height:20px;padding:0 5px;max-width:200px;overflow:hidden;text-overflow:ellipsis;word-break:keep-all;white-space:nowrap;background:var(--bg-color);border-radius:4px;color:var(--text-color)}.netless-app-monaco-cursor-first-line:before{top:16px;left:-2px}.netless-app-monaco-cursor-right:before{left:unset;right:2px}.netless-app-monaco-cursor:after{display:var(--dot);content:" ";position:absolute;left:-4px;top:-4px;width:6px;height:6px;border-radius:4px;background:var(--bg-color)}.netless-app-monaco-footer{box-sizing:border-box;max-height:30%;display:flex;flex-direction:column;border-top:1px solid #eeeef7;color:#191919;font-size:12px}.netless-app-monaco-footer-ctrl{width:100%;padding:5px 16px;user-select:none}.netless-app-monaco-lang-select:disabled{cursor:not-allowed}.netless-app-monaco-run-code{margin-left:5px}.netless-app-monaco-run-code:disabled{cursor:not-allowed}.netless-app-monaco-terminal{position:relative;flex:1;width:100%;overflow:auto;margin:0;padding:5px 16px 10px 32px;background:rgba(0,0,0,.02)}.netless-app-monaco-terminal:before{content:">";position:absolute;left:16px;top:6px;user-select:none}.telebox-color-scheme-dark .netless-app-monaco-footer{color:#a6a6a8;border-top:none;background:#2d2d33}.telebox-color-scheme-dark .netless-app-monaco-terminal{background:#0e0e0e}
`,la=`/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.29.2(df04357573e045be658960bd50ff0a45d6d1eadb)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/.monaco-action-bar{white-space:nowrap;height:100%}.monaco-action-bar .actions-container{display:flex;margin:0 auto;padding:0;height:100%;width:100%;align-items:center}.monaco-action-bar.vertical .actions-container{display:inline-block}.monaco-action-bar .action-item{display:block;align-items:center;justify-content:center;cursor:pointer;position:relative}.monaco-action-bar .action-item.disabled{cursor:default}.monaco-action-bar .action-item .codicon,.monaco-action-bar .action-item .icon{display:block}.monaco-action-bar .action-item .codicon{display:flex;align-items:center;width:16px;height:16px}.monaco-action-bar .action-label{font-size:11px;padding:3px;border-radius:5px}.monaco-action-bar .action-item.disabled .action-label,.monaco-action-bar .action-item.disabled .action-label:before,.monaco-action-bar .action-item.disabled .action-label:hover{opacity:.4}.monaco-action-bar.vertical{text-align:left}.monaco-action-bar.vertical .action-item{display:block}.monaco-action-bar.vertical .action-label.separator{display:block;border-bottom:1px solid #bbb;padding-top:1px;margin-left:.8em;margin-right:.8em}.monaco-action-bar .action-item .action-label.separator{width:1px;height:16px;margin:5px 4px!important;cursor:default;min-width:1px;padding:0;background-color:#bbb}.secondary-actions .monaco-action-bar .action-label{margin-left:6px}.monaco-action-bar .action-item.select-container{overflow:hidden;flex:1;max-width:170px;min-width:60px;display:flex;align-items:center;justify-content:center;margin-right:10px}.monaco-action-bar .action-item.action-dropdown-item{display:flex}.monaco-action-bar .action-item.action-dropdown-item>.action-label{margin-right:1px}.monaco-aria-container{position:absolute;left:-999em}.monaco-text-button{box-sizing:border-box;display:flex;width:100%;padding:4px;text-align:center;cursor:pointer;justify-content:center;align-items:center}.monaco-text-button:focus{outline-offset:2px!important}.monaco-text-button:hover{text-decoration:none!important}.monaco-button.disabled,.monaco-button.disabled:focus{opacity:.4!important;cursor:default}.monaco-text-button>.codicon{margin:0 .2em;color:inherit!important}.monaco-button-dropdown{display:flex;cursor:pointer}.monaco-button-dropdown>.monaco-dropdown-button{margin-left:1px}.monaco-description-button{flex-direction:column}.monaco-description-button .monaco-button-label{font-weight:500}.monaco-description-button .monaco-button-description{font-style:italic}.monaco-custom-checkbox{margin-left:2px;float:left;cursor:pointer;overflow:hidden;opacity:.7;width:20px;height:20px;border:1px solid transparent;padding:1px;box-sizing:border-box;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-custom-checkbox.checked,.monaco-custom-checkbox:hover{opacity:1}.hc-black .monaco-custom-checkbox,.hc-black .monaco-custom-checkbox:hover{background:none}.monaco-custom-checkbox.monaco-simple-checkbox{height:18px;width:18px;border:1px solid transparent;border-radius:3px;margin-right:9px;margin-left:0;padding:0;opacity:1;background-size:16px!important}.monaco-custom-checkbox.monaco-simple-checkbox:not(.checked):before{visibility:hidden}@font-face{font-family:codicon;font-display:block;src:url(assets/codicon.d86f69b1.ttf) format("truetype")}.codicon[class*=codicon-]{font: 16px/1 codicon;display:inline-block;text-decoration:none;text-rendering:auto;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;user-select:none;-webkit-user-select:none;-ms-user-select:none}.codicon-wrench-subaction{opacity:.5}@keyframes codicon-spin{to{transform:rotate(1turn)}}.codicon-gear.codicon-modifier-spin,.codicon-loading.codicon-modifier-spin,.codicon-notebook-state-executing.codicon-modifier-spin,.codicon-sync.codicon-modifier-spin{animation:codicon-spin 1.5s steps(30) infinite}.codicon-modifier-disabled{opacity:.4}.codicon-loading,.codicon-tree-item-loading:before{animation-duration:1s!important;animation-timing-function:cubic-bezier(.53,.21,.29,.67)!important}.context-view{position:absolute;z-index:2500}.context-view.fixed{all:initial;font-family:inherit;font-size:13px;position:fixed;z-index:2500;color:inherit}.monaco-count-badge{padding:3px 6px;border-radius:11px;font-size:11px;min-width:18px;min-height:18px;line-height:11px;font-weight:400;text-align:center;display:inline-block;box-sizing:border-box}.monaco-count-badge.long{padding:2px 3px;border-radius:2px;min-height:auto;line-height:normal}.monaco-dropdown{height:100%;padding:0}.monaco-dropdown>.dropdown-label{cursor:pointer;height:100%;display:flex;align-items:center;justify-content:center}.monaco-dropdown>.dropdown-label>.action-label.disabled{cursor:default}.monaco-dropdown-with-primary{display:flex!important;flex-direction:row;border-radius:5px}.monaco-dropdown-with-primary>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-primary>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:50%;background-repeat:no-repeat}.monaco-findInput{position:relative}.monaco-findInput .monaco-inputbox{font-size:13px;width:100%}.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.vs .monaco-findInput.disabled{background-color:#e1e1e1}.vs-dark .monaco-findInput.disabled{background-color:#333}.monaco-findInput.highlight-0 .controls{animation:monaco-findInput-highlight-0 .1s linear 0s}.monaco-findInput.highlight-1 .controls{animation:monaco-findInput-highlight-1 .1s linear 0s}.hc-black .monaco-findInput.highlight-0 .controls,.vs-dark .monaco-findInput.highlight-0 .controls{animation:monaco-findInput-highlight-dark-0 .1s linear 0s}.hc-black .monaco-findInput.highlight-1 .controls,.vs-dark .monaco-findInput.highlight-1 .controls{animation:monaco-findInput-highlight-dark-1 .1s linear 0s}@keyframes monaco-findInput-highlight-0{0%{background:rgba(253,255,0,.8)}to{background:transparent}}@keyframes monaco-findInput-highlight-1{0%{background:rgba(253,255,0,.8)}99%{background:transparent}}@keyframes monaco-findInput-highlight-dark-0{0%{background:hsla(0,0%,100%,.44)}to{background:transparent}}@keyframes monaco-findInput-highlight-dark-1{0%{background:hsla(0,0%,100%,.44)}99%{background:transparent}}.monaco-hover{cursor:default;position:absolute;overflow:hidden;z-index:50;user-select:text;-webkit-user-select:text;-ms-user-select:text;box-sizing:initial;animation:fadein .1s linear;line-height:1.5em}.monaco-hover.hidden{display:none}.monaco-hover .hover-contents:not(.html-hover-contents){padding:4px 8px}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents){max-width:500px;word-wrap:break-word}.monaco-hover .markdown-hover>.hover-contents:not(.code-hover-contents) hr{min-width:100%}.monaco-hover .code,.monaco-hover p,.monaco-hover ul{margin:8px 0}.monaco-hover code{font-family:var(--monaco-monospace-font)}.monaco-hover hr{box-sizing:border-box;border-left:0;border-right:0;margin:4px -8px -4px;height:1px}.monaco-hover .code:first-child,.monaco-hover p:first-child,.monaco-hover ul:first-child{margin-top:0}.monaco-hover .code:last-child,.monaco-hover p:last-child,.monaco-hover ul:last-child{margin-bottom:0}.monaco-hover ol,.monaco-hover ul{padding-left:20px}.monaco-hover li>p{margin-bottom:0}.monaco-hover li>ul{margin-top:0}.monaco-hover code{border-radius:3px;padding:0 .4em}.monaco-hover .monaco-tokenized-source{white-space:pre-wrap}.monaco-hover .hover-row.status-bar{font-size:12px;line-height:22px}.monaco-hover .hover-row.status-bar .actions{display:flex;padding:0 8px}.monaco-hover .hover-row.status-bar .actions .action-container{margin-right:16px;cursor:pointer}.monaco-hover .hover-row.status-bar .actions .action-container .action .icon{padding-right:4px}.monaco-hover .markdown-hover .hover-contents .codicon{color:inherit;font-size:inherit;vertical-align:middle}.monaco-hover .hover-contents a.code-link,.monaco-hover .hover-contents a.code-link:hover{color:inherit}.monaco-hover .hover-contents a.code-link:before{content:"("}.monaco-hover .hover-contents a.code-link:after{content:")"}.monaco-hover .hover-contents a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span{margin-bottom:4px;display:inline-block}.monaco-hover-content .action-container a{-webkit-user-select:none;user-select:none}.monaco-hover-content .action-container.disabled{pointer-events:none;opacity:.4;cursor:default}.monaco-icon-label{display:flex;overflow:hidden;text-overflow:ellipsis}.monaco-icon-label:before{background-size:16px;background-position:0;background-repeat:no-repeat;padding-right:6px;width:16px;height:22px;line-height:inherit!important;display:inline-block;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;vertical-align:top;flex-shrink:0}.monaco-icon-label>.monaco-icon-label-container{min-width:0;overflow:hidden;text-overflow:ellipsis;flex:1}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{color:inherit;white-space:pre}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-name-container>.label-name>.label-separator{margin:0 2px;opacity:.5}.monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.7;margin-left:.5em;font-size:.9em;white-space:pre}.monaco-icon-label.nowrap>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{white-space:nowrap}.vs .monaco-icon-label>.monaco-icon-label-container>.monaco-icon-description-container>.label-description{opacity:.95}.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.italic>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{font-style:italic}.monaco-icon-label.deprecated{text-decoration:line-through;opacity:.66}.monaco-icon-label.italic:after{font-style:italic}.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-description-container>.label-description,.monaco-icon-label.strikethrough>.monaco-icon-label-container>.monaco-icon-name-container>.label-name{text-decoration:line-through}.monaco-icon-label:after{opacity:.75;font-size:90%;font-weight:600;margin:auto 16px 0 5px;text-align:center}.monaco-list:focus .selected .monaco-icon-label,.monaco-list:focus .selected .monaco-icon-label:after{color:inherit!important}.monaco-list-row.focused.selected .label-description,.monaco-list-row.selected .label-description{opacity:.8}.monaco-inputbox{position:relative;display:block;padding:0;box-sizing:border-box;font-size:inherit}.monaco-inputbox.idle{border:1px solid transparent}.monaco-inputbox>.ibwrapper>.input,.monaco-inputbox>.ibwrapper>.mirror{padding:4px}.monaco-inputbox>.ibwrapper{position:relative;width:100%;height:100%}.monaco-inputbox>.ibwrapper>.input{display:inline-block;box-sizing:border-box;width:100%;height:100%;line-height:inherit;border:none;font-family:inherit;font-size:inherit;resize:none;color:inherit}.monaco-inputbox>.ibwrapper>input{text-overflow:ellipsis}.monaco-inputbox>.ibwrapper>textarea.input{display:block;-ms-overflow-style:none;scrollbar-width:none;outline:none}.monaco-inputbox>.ibwrapper>textarea.input::-webkit-scrollbar{display:none}.monaco-inputbox>.ibwrapper>textarea.input.empty{white-space:nowrap}.monaco-inputbox>.ibwrapper>.mirror{position:absolute;display:inline-block;width:100%;top:0;left:0;box-sizing:border-box;white-space:pre-wrap;visibility:hidden;word-wrap:break-word}.monaco-inputbox-container{text-align:right}.monaco-inputbox-container .monaco-inputbox-message{display:inline-block;overflow:hidden;text-align:left;width:100%;box-sizing:border-box;padding:.4em;font-size:12px;line-height:17px;margin-top:-1px;word-wrap:break-word}.monaco-inputbox .monaco-action-bar{position:absolute;right:2px;top:4px}.monaco-inputbox .monaco-action-bar .action-item{margin-left:2px}.monaco-inputbox .monaco-action-bar .action-item .codicon{background-repeat:no-repeat;width:16px;height:16px}.monaco-keybinding{display:flex;align-items:center;line-height:10px}.monaco-keybinding>.monaco-keybinding-key{display:inline-block;border-style:solid;border-width:1px;border-radius:3px;vertical-align:middle;font-size:11px;padding:3px 5px;margin:0 2px}.monaco-keybinding>.monaco-keybinding-key:first-child{margin-left:0}.monaco-keybinding>.monaco-keybinding-key:last-child{margin-right:0}.monaco-keybinding>.monaco-keybinding-key-separator{display:inline-block}.monaco-keybinding>.monaco-keybinding-key-chord-separator{width:6px}.monaco-list{position:relative;height:100%;width:100%;white-space:nowrap}.monaco-list.mouse-support{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-list>.monaco-scrollable-element{height:100%}.monaco-list-rows{position:relative;width:100%;height:100%}.monaco-list.horizontal-scrolling .monaco-list-rows{width:auto;min-width:100%}.monaco-list-row{position:absolute;box-sizing:border-box;overflow:hidden;width:100%}.monaco-list.mouse-support .monaco-list-row{cursor:pointer;touch-action:none}.monaco-list-row.scrolling{display:none!important}.monaco-list.element-focused,.monaco-list.selection-multiple,.monaco-list.selection-single{outline:0!important}.monaco-drag-image{display:inline-block;padding:1px 7px;border-radius:10px;font-size:12px;position:absolute;z-index:1000}.monaco-list-type-filter{display:flex;align-items:center;position:absolute;border-radius:2px;padding:0 3px;max-width:calc(100% - 10px);text-overflow:ellipsis;overflow:hidden;text-align:right;box-sizing:border-box;cursor:all-scroll;font-size:13px;line-height:18px;height:20px;z-index:1;top:4px}.monaco-list-type-filter.dragging{transition:top .2s,left .2s}.monaco-list-type-filter.ne{right:4px}.monaco-list-type-filter.nw{left:4px}.monaco-list-type-filter>.controls{display:flex;align-items:center;box-sizing:border-box;transition:width .2s;width:0}.monaco-list-type-filter.dragging>.controls,.monaco-list-type-filter:hover>.controls{width:36px}.monaco-list-type-filter>.controls>*{border:none;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;background:none;width:16px;height:16px;flex-shrink:0;margin:0;padding:0;display:flex;align-items:center;justify-content:center;cursor:pointer}.monaco-list-type-filter>.controls>.filter{margin-left:4px}.monaco-list-type-filter-message{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;padding:40px 1em 1em;text-align:center;white-space:normal;opacity:.7;pointer-events:none}.monaco-list-type-filter-message:empty{display:none}.monaco-list-type-filter{cursor:grab}.monaco-list-type-filter.dragging{cursor:grabbing}.monaco-mouse-cursor-text{cursor:text}.hc-black.mac .monaco-mouse-cursor-text,.hc-black .mac .monaco-mouse-cursor-text,.vs-dark.mac .monaco-mouse-cursor-text,.vs-dark .mac .monaco-mouse-cursor-text{cursor:-webkit-image-set(url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAAL0lEQVQoz2NgCD3x//9/BhBYBWdhgFVAiVW4JBFKGIa4AqD0//9D3pt4I4tAdAMAHTQ/j5Zom30AAAAASUVORK5CYII=) 1x,url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAz0lEQVRIx2NgYGBY/R8I/vx5eelX3n82IJ9FxGf6tksvf/8FiTMQAcAGQMDvSwu09abffY8QYSAScNk45G198eX//yev73/4///701eh//kZSARckrNBRvz//+8+6ZohwCzjGNjdgQxkAg7B9WADeBjIBqtJCbhRA0YNoIkBSNmaPEMoNmA0FkYNoFKhapJ6FGyAH3nauaSmPfwI0v/3OukVi0CIZ+F25KrtYcx/CTIy0e+rC7R1Z4KMICVTQQ14feVXIbR695u14+Ir4gwAAD49E54wc1kWAAAAAElFTkSuQmCC) 2x) 5 8,text}.monaco-progress-container{width:100%;height:5px;overflow:hidden}.monaco-progress-container .progress-bit{width:2%;height:5px;position:absolute;left:0;display:none}.monaco-progress-container.active .progress-bit{display:inherit}.monaco-progress-container.discrete .progress-bit{left:0;transition:width .1s linear}.monaco-progress-container.discrete.done .progress-bit{width:100%}.monaco-progress-container.infinite .progress-bit{animation-name:progress;animation-duration:4s;animation-iteration-count:infinite;animation-timing-function:linear;transform:translateZ(0)}@keyframes progress{0%{transform:translate(0) scaleX(1)}50%{transform:translate(2500%) scaleX(3)}to{transform:translate(4900%) scaleX(1)}}:root{--sash-size:4px}.monaco-sash{position:absolute;z-index:35;touch-action:none}.monaco-sash.disabled{pointer-events:none}.monaco-sash.mac.vertical{cursor:col-resize}.monaco-sash.vertical.minimum{cursor:e-resize}.monaco-sash.vertical.maximum{cursor:w-resize}.monaco-sash.mac.horizontal{cursor:row-resize}.monaco-sash.horizontal.minimum{cursor:s-resize}.monaco-sash.horizontal.maximum{cursor:n-resize}.monaco-sash.disabled{cursor:default!important;pointer-events:none!important}.monaco-sash.vertical{cursor:ew-resize;top:0;width:var(--sash-size);height:100%}.monaco-sash.horizontal{cursor:ns-resize;left:0;width:100%;height:var(--sash-size)}.monaco-sash:not(.disabled)>.orthogonal-drag-handle{content:" ";height:calc(var(--sash-size)*2);width:calc(var(--sash-size)*2);z-index:100;display:block;cursor:all-scroll;position:absolute}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.start,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.end{cursor:nwse-resize}.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)>.orthogonal-drag-handle.end,.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)>.orthogonal-drag-handle.start{cursor:nesw-resize}.monaco-sash.vertical>.orthogonal-drag-handle.start{left:calc(var(--sash-size)*-.5);top:calc(var(--sash-size)*-1)}.monaco-sash.vertical>.orthogonal-drag-handle.end{left:calc(var(--sash-size)*-.5);bottom:calc(var(--sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.start{top:calc(var(--sash-size)*-.5);left:calc(var(--sash-size)*-1)}.monaco-sash.horizontal>.orthogonal-drag-handle.end{top:calc(var(--sash-size)*-.5);right:calc(var(--sash-size)*-1)}.monaco-sash:before{content:"";pointer-events:none;position:absolute;width:100%;height:100%;transition:background-color .1s ease-out;background:transparent}.monaco-sash.vertical:before{width:var(--sash-hover-size);left:calc(50% - var(--sash-hover-size)/2)}.monaco-sash.horizontal:before{height:var(--sash-hover-size);top:calc(50% - var(--sash-hover-size)/2)}.monaco-sash.debug{background:#0ff}.monaco-sash.debug.disabled{background:rgba(0,255,255,.2)}.monaco-sash.debug:not(.disabled)>.orthogonal-drag-handle{background:red}.monaco-scrollable-element>.scrollbar>.scra{cursor:pointer;font-size:11px!important}.monaco-scrollable-element>.visible{opacity:1;background:transparent;transition:opacity .1s linear}.monaco-scrollable-element>.invisible{opacity:0;pointer-events:none}.monaco-scrollable-element>.invisible.fade{transition:opacity .8s linear}.monaco-scrollable-element>.shadow{position:absolute;display:none}.monaco-scrollable-element>.shadow.top{display:block;top:0;left:3px;height:3px;width:100%;box-shadow:inset 0 6px 6px -6px #ddd}.monaco-scrollable-element>.shadow.left{display:block;top:3px;left:0;height:100%;width:3px;box-shadow:inset 6px 0 6px -6px #ddd}.monaco-scrollable-element>.shadow.top-left-corner{display:block;top:0;left:0;height:3px;width:3px}.monaco-scrollable-element>.shadow.top.left{box-shadow:inset 6px 6px 6px -6px #ddd}.vs .monaco-scrollable-element>.scrollbar>.slider{background:hsla(0,0%,39.2%,.4)}.vs-dark .monaco-scrollable-element>.scrollbar>.slider{background:hsla(0,0%,47.5%,.4)}.hc-black .monaco-scrollable-element>.scrollbar>.slider{background:rgba(111,195,223,.6)}.monaco-scrollable-element>.scrollbar>.slider:hover{background:hsla(0,0%,39.2%,.7)}.hc-black .monaco-scrollable-element>.scrollbar>.slider:hover{background:rgba(111,195,223,.8)}.monaco-scrollable-element>.scrollbar>.slider.active{background:rgba(0,0,0,.6)}.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active{background:hsla(0,0%,74.9%,.4)}.hc-black .monaco-scrollable-element>.scrollbar>.slider.active{background:#6fc3df}.vs-dark .monaco-scrollable-element .shadow.top{box-shadow:none}.vs-dark .monaco-scrollable-element .shadow.left{box-shadow:inset 6px 0 6px -6px #000}.vs-dark .monaco-scrollable-element .shadow.top.left{box-shadow:inset 6px 6px 6px -6px #000}.hc-black .monaco-scrollable-element .shadow.left,.hc-black .monaco-scrollable-element .shadow.top,.hc-black .monaco-scrollable-element .shadow.top.left{box-shadow:none}.monaco-split-view2{position:relative;width:100%;height:100%}.monaco-split-view2>.sash-container{position:absolute;width:100%;height:100%;pointer-events:none}.monaco-split-view2>.sash-container>.monaco-sash{pointer-events:auto}.monaco-split-view2>.monaco-scrollable-element{width:100%;height:100%}.monaco-split-view2>.monaco-scrollable-element>.split-view-container{width:100%;height:100%;white-space:nowrap;position:relative}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view{white-space:normal;position:absolute}.monaco-split-view2>.monaco-scrollable-element>.split-view-container>.split-view-view:not(.visible){display:none}.monaco-split-view2.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view{width:100%}.monaco-split-view2.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view{height:100%}.monaco-split-view2.separator-border>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{content:" ";position:absolute;top:0;left:0;z-index:5;pointer-events:none;background-color:var(--separator-border)}.monaco-split-view2.separator-border.horizontal>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:100%;width:1px}.monaco-split-view2.separator-border.vertical>.monaco-scrollable-element>.split-view-container>.split-view-view:not(:first-child):before{height:1px;width:100%}.monaco-table{display:flex;flex-direction:column;position:relative;height:100%;width:100%;white-space:nowrap}.monaco-table>.monaco-split-view2{border-bottom:1px solid transparent}.monaco-table>.monaco-list{flex:1}.monaco-table-tr{display:flex;height:100%}.monaco-table-th{width:100%;height:100%;font-weight:700;overflow:hidden;text-overflow:ellipsis}.monaco-table-td,.monaco-table-th{box-sizing:border-box;flex-shrink:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{content:"";position:absolute;left:calc(var(--sash-size)/2);width:0;border-left:1px solid transparent}.monaco-table>.monaco-split-view2,.monaco-table>.monaco-split-view2 .monaco-sash.vertical:before{transition:border-color .2s ease-out}.monaco-tl-row{display:flex;height:100%;align-items:center;position:relative}.monaco-tl-indent{height:100%;position:absolute;top:0;left:16px;pointer-events:none}.hide-arrows .monaco-tl-indent{left:12px}.monaco-tl-indent>.indent-guide{display:inline-block;box-sizing:border-box;height:100%;border-left:1px solid transparent;transition:border-color .1s linear}.monaco-tl-contents,.monaco-tl-twistie{height:100%}.monaco-tl-twistie{font-size:10px;text-align:right;padding-right:6px;flex-shrink:0;width:16px;display:flex!important;align-items:center;justify-content:center;transform:translate(3px)}.monaco-tl-contents{flex:1;overflow:hidden}.monaco-tl-twistie:before{border-radius:20px}.monaco-tl-twistie.collapsed:before{transform:rotate(-90deg)}.monaco-tl-twistie.codicon-tree-item-loading:before{animation:codicon-spin 1.25s steps(30) infinite}.quick-input-widget{position:absolute;width:600px;z-index:2000;padding:0 1px 1px;left:50%;margin-left:-300px}.quick-input-titlebar{display:flex;align-items:center}.quick-input-left-action-bar{display:flex;margin-left:4px;flex:1}.quick-input-title{padding:3px 0;text-align:center;text-overflow:ellipsis;overflow:hidden}.quick-input-right-action-bar{display:flex;margin-right:4px;flex:1}.quick-input-right-action-bar>.actions-container{justify-content:flex-end}.quick-input-titlebar .monaco-action-bar .action-label.codicon{background-position:50%;background-repeat:no-repeat;padding:2px}.quick-input-description{margin:6px}.quick-input-header .quick-input-description{margin:4px 2px}.quick-input-header{display:flex;padding:6px 6px 0;margin-bottom:-2px}.quick-input-widget.hidden-input .quick-input-header{padding:0;margin-bottom:0}.quick-input-and-message{display:flex;flex-direction:column;flex-grow:1;min-width:0;position:relative}.quick-input-check-all{align-self:center;margin:0}.quick-input-filter{flex-grow:1;display:flex;position:relative}.quick-input-box{flex-grow:1}.quick-input-widget.show-checkboxes .quick-input-box,.quick-input-widget.show-checkboxes .quick-input-message{margin-left:5px}.quick-input-visible-count{position:absolute;left:-10000px}.quick-input-count{align-self:center;position:absolute;right:4px;display:flex;align-items:center}.quick-input-count .monaco-count-badge{vertical-align:middle;padding:2px 4px;border-radius:2px;min-height:auto;line-height:normal}.quick-input-action{margin-left:6px}.quick-input-action .monaco-text-button{font-size:11px;padding:0 6px;display:flex;height:27.5px;align-items:center}.quick-input-message{margin-top:-1px;padding:5px 5px 2px;overflow-wrap:break-word}.quick-input-message>.codicon{margin:0 .2em;vertical-align:text-bottom}.quick-input-progress.monaco-progress-container{position:relative}.quick-input-progress.monaco-progress-container,.quick-input-progress.monaco-progress-container .progress-bit{height:2px}.quick-input-list{line-height:22px;margin-top:6px}.quick-input-widget.hidden-input .quick-input-list{margin-top:0}.quick-input-list .monaco-list{overflow:hidden;max-height:440px}.quick-input-list .quick-input-list-entry{box-sizing:border-box;overflow:hidden;display:flex;height:100%;padding:0 6px}.quick-input-list .quick-input-list-entry.quick-input-list-separator-border{border-top-width:1px;border-top-style:solid}.quick-input-list .monaco-list-row[data-index="0"] .quick-input-list-entry.quick-input-list-separator-border{border-top-style:none}.quick-input-list .quick-input-list-label{overflow:hidden;display:flex;height:100%;flex:1}.quick-input-list .quick-input-list-checkbox{align-self:center;margin:0}.quick-input-list .quick-input-list-rows{overflow:hidden;text-overflow:ellipsis;display:flex;flex-direction:column;height:100%;flex:1;margin-left:5px}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows{margin-left:10px}.quick-input-widget .quick-input-list .quick-input-list-checkbox{display:none}.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox{display:inline}.quick-input-list .quick-input-list-rows>.quick-input-list-row{display:flex;align-items:center}.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label,.quick-input-list .quick-input-list-rows>.quick-input-list-row .monaco-icon-label .monaco-icon-label-container>.monaco-icon-name-container{flex:1}.quick-input-list .quick-input-list-rows>.quick-input-list-row .codicon[class*=codicon-]{vertical-align:text-bottom}.quick-input-list .quick-input-list-rows .monaco-highlighted-label span{opacity:1}.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding{margin-right:8px}.quick-input-list .quick-input-list-label-meta{opacity:.7;line-height:normal;text-overflow:ellipsis;overflow:hidden}.quick-input-list .monaco-highlighted-label .highlight{font-weight:700}.quick-input-list .quick-input-list-entry .quick-input-list-separator{margin-right:8px}.quick-input-list .quick-input-list-entry-action-bar{display:flex;flex:0;overflow:visible}.quick-input-list .quick-input-list-entry-action-bar .action-label{display:none}.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon{margin-right:4px;padding:0 2px 2px}.quick-input-list .quick-input-list-entry-action-bar{margin-top:1px;margin-right:4px}.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label,.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label{display:flex}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator{color:inherit}.quick-input-list .monaco-list-row.focused .monaco-keybinding-key{background:none}.monaco-editor .inputarea{min-width:0;min-height:0;margin:0;padding:0;position:absolute;outline:none!important;resize:none;border:none;overflow:hidden;color:transparent;background-color:transparent}.monaco-editor .inputarea.ime-input{z-index:10}.monaco-editor .margin-view-overlays .current-line,.monaco-editor .view-overlays .current-line{display:block;position:absolute;left:0;top:0;box-sizing:border-box}.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both{border-right:0}.monaco-editor .lines-content .cdr{position:absolute}.monaco-editor .glyph-margin{position:absolute;top:0}.monaco-editor .margin-view-overlays .cgmr{position:absolute;display:flex;align-items:center;justify-content:center}.monaco-editor .lines-content .core-guide{position:absolute}.monaco-editor .margin-view-overlays .line-numbers{font-variant-numeric:tabular-nums;position:absolute;text-align:right;display:inline-block;vertical-align:middle;box-sizing:border-box;cursor:default;height:100%}.monaco-editor .relative-current-line-number{text-align:left;display:inline-block;width:100%}.monaco-editor .margin-view-overlays .line-numbers.lh-odd{margin-top:1px}.monaco-editor.no-user-select .lines-content,.monaco-editor.no-user-select .view-line,.monaco-editor.no-user-select .view-lines{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .view-lines{white-space:nowrap}.monaco-editor .view-line{position:absolute;width:100%}.monaco-editor .mtkz{display:inline-block}.monaco-editor .lines-decorations{position:absolute;top:0;background:#fff}.monaco-editor .margin-view-overlays .cldr{position:absolute;height:100%}.monaco-editor .margin-view-overlays .cmdr{position:absolute;left:0;width:100%;height:100%}.monaco-editor .minimap.slider-mouseover .minimap-slider{opacity:0;transition:opacity .1s linear}.monaco-editor .minimap.slider-mouseover .minimap-slider.active,.monaco-editor .minimap.slider-mouseover:hover .minimap-slider{opacity:1}.monaco-editor .minimap-shadow-hidden{position:absolute;width:0}.monaco-editor .minimap-shadow-visible{position:absolute;left:-6px;width:6px}.monaco-editor.no-minimap-shadow .minimap-shadow-visible{position:absolute;left:-1px;width:1px}.monaco-editor .overlayWidgets{position:absolute;top:0;left:0}.monaco-editor .view-ruler{position:absolute;top:0}.monaco-editor .scroll-decoration{position:absolute;top:0;left:0;height:6px}.monaco-editor .lines-content .cslr{position:absolute}.monaco-editor .top-left-radius{border-top-left-radius:3px}.monaco-editor .bottom-left-radius{border-bottom-left-radius:3px}.monaco-editor .top-right-radius{border-top-right-radius:3px}.monaco-editor .bottom-right-radius{border-bottom-right-radius:3px}.monaco-editor.hc-black .top-left-radius{border-top-left-radius:0}.monaco-editor.hc-black .bottom-left-radius{border-bottom-left-radius:0}.monaco-editor.hc-black .top-right-radius{border-top-right-radius:0}.monaco-editor.hc-black .bottom-right-radius{border-bottom-right-radius:0}.monaco-editor .cursors-layer{position:absolute;top:0}.monaco-editor .cursors-layer>.cursor{position:absolute;overflow:hidden}.monaco-editor .cursors-layer.cursor-smooth-caret-animation>.cursor{transition:all 80ms}.monaco-editor .cursors-layer.cursor-block-outline-style>.cursor{box-sizing:border-box;background:transparent!important;border-style:solid;border-width:1px}.monaco-editor .cursors-layer.cursor-underline-style>.cursor{border-bottom-width:2px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}.monaco-editor .cursors-layer.cursor-underline-thin-style>.cursor{border-bottom-width:1px;border-bottom-style:solid;background:transparent!important;box-sizing:border-box}@keyframes monaco-cursor-smooth{0%,20%{opacity:1}60%,to{opacity:0}}@keyframes monaco-cursor-phase{0%,20%{opacity:1}90%,to{opacity:0}}@keyframes monaco-cursor-expand{0%,20%{transform:scaleY(1)}80%,to{transform:scaleY(0)}}.cursor-smooth{animation:monaco-cursor-smooth .5s ease-in-out 0s 20 alternate}.cursor-phase{animation:monaco-cursor-phase .5s ease-in-out 0s 20 alternate}.cursor-expand>.cursor{animation:monaco-cursor-expand .5s ease-in-out 0s 20 alternate}.monaco-diff-editor .diffOverview{z-index:9}.monaco-diff-editor .diffOverview .diffViewport{z-index:10}.monaco-diff-editor.vs .diffOverview{background:rgba(0,0,0,.03)}.monaco-diff-editor.vs-dark .diffOverview{background:hsla(0,0%,100%,.01)}.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark .scrollbar,.monaco-scrollable-element.modified-in-monaco-diff-editor.vs .scrollbar{background:transparent}.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black .scrollbar{background:none}.monaco-scrollable-element.modified-in-monaco-diff-editor .slider{z-index:10}.modified-in-monaco-diff-editor .slider.active{background:hsla(0,0%,67.1%,.4)}.modified-in-monaco-diff-editor.hc-black .slider.active{background:none}.monaco-diff-editor .delete-sign,.monaco-diff-editor .insert-sign,.monaco-editor .delete-sign,.monaco-editor .insert-sign{font-size:11px!important;opacity:.7!important;display:flex!important;align-items:center}.monaco-diff-editor.hc-black .delete-sign,.monaco-diff-editor.hc-black .insert-sign,.monaco-editor.hc-black .delete-sign,.monaco-editor.hc-black .insert-sign{opacity:1}.monaco-editor .inline-added-margin-view-zone,.monaco-editor .inline-deleted-margin-view-zone{text-align:right}.monaco-editor .view-zones .view-lines .view-line span{display:inline-block}.monaco-editor .margin-view-zones .lightbulb-glyph:hover{cursor:pointer}.monaco-diff-editor .diff-review-line-number{text-align:right;display:inline-block}.monaco-diff-editor .diff-review{position:absolute;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-diff-editor .diff-review-summary{padding-left:10px}.monaco-diff-editor .diff-review-shadow{position:absolute}.monaco-diff-editor .diff-review-row{white-space:pre}.monaco-diff-editor .diff-review-table{display:table;min-width:100%}.monaco-diff-editor .diff-review-row{display:table-row;width:100%}.monaco-diff-editor .diff-review-spacer{display:inline-block;width:10px;vertical-align:middle}.monaco-diff-editor .diff-review-spacer>.codicon{font-size:9px!important}.monaco-diff-editor .diff-review-actions{display:inline-block;position:absolute;right:10px;top:2px}.monaco-diff-editor .diff-review-actions .action-label{width:16px;height:16px;margin:2px 0}::-ms-clear{display:none}.monaco-editor .editor-widget input{color:inherit}.monaco-editor{position:relative;overflow:visible;-webkit-text-size-adjust:100%}.monaco-editor .overflow-guard{position:relative;overflow:hidden}.monaco-editor .view-overlays{position:absolute;top:0}.monaco-editor .selection-anchor{background-color:#007acc;width:2px!important}.monaco-editor .bracket-match{box-sizing:border-box}.monaco-editor .contentWidgets .codicon-light-bulb,.monaco-editor .contentWidgets .codicon-lightbulb-autofix{display:flex;align-items:center;justify-content:center}.monaco-editor .contentWidgets .codicon-light-bulb:hover,.monaco-editor .contentWidgets .codicon-lightbulb-autofix:hover{cursor:pointer}.monaco-editor .codelens-decoration{overflow:hidden;display:inline-block;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .codelens-decoration>a,.monaco-editor .codelens-decoration>span{user-select:none;-webkit-user-select:none;-ms-user-select:none;white-space:nowrap;vertical-align:sub}.monaco-editor .codelens-decoration>a{text-decoration:none}.monaco-editor .codelens-decoration>a:hover{cursor:pointer}.monaco-editor .codelens-decoration .codicon{vertical-align:middle;color:currentColor!important}.monaco-editor .codelens-decoration>a:hover .codicon:before{cursor:pointer}@keyframes fadein{0%{opacity:0;visibility:visible}to{opacity:1}}.monaco-editor .codelens-decoration.fadein{animation:fadein .1s linear}.colorpicker-widget{height:190px;user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .colorpicker-hover:focus{outline:none}.colorpicker-header{display:flex;height:24px;position:relative;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;image-rendering:pixelated}.colorpicker-header .picked-color{width:216px;line-height:24px;cursor:pointer;color:#fff;flex:1;text-align:center}.colorpicker-header .picked-color.light{color:#000}.colorpicker-header .original-color{width:74px;z-index:inherit;cursor:pointer}.colorpicker-body{display:flex;padding:8px;position:relative}.colorpicker-body .saturation-wrap{overflow:hidden;height:150px;position:relative;min-width:220px;flex:1}.colorpicker-body .saturation-box{height:150px;position:absolute}.colorpicker-body .saturation-selection{width:9px;height:9px;margin:-5px 0 0 -5px;border:1px solid #fff;border-radius:100%;box-shadow:0 0 2px #000c;position:absolute}.colorpicker-body .strip{width:25px;height:150px}.colorpicker-body .hue-strip{position:relative;margin-left:8px;cursor:grab;background:linear-gradient(180deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.colorpicker-body .opacity-strip{position:relative;margin-left:8px;cursor:grab;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=);background-size:9px 9px;image-rendering:pixelated}.colorpicker-body .strip.grabbing{cursor:grabbing}.colorpicker-body .slider{position:absolute;top:0;left:-2px;width:calc(100% + 4px);height:4px;box-sizing:border-box;border:1px solid hsla(0,0%,100%,.71);box-shadow:0 0 1px #000000d9}.colorpicker-body .strip .overlay{height:150px;pointer-events:none}.monaco-editor.vs .dnd-target{border-right:2px dotted #000;color:#fff}.monaco-editor.vs-dark .dnd-target{border-right:2px dotted #aeafad;color:#51504f}.monaco-editor.hc-black .dnd-target{border-right:2px dotted #fff;color:#000}.monaco-editor.hc-black.mac.mouse-default .view-lines,.monaco-editor.mouse-default .view-lines,.monaco-editor.vs-dark.mac.mouse-default .view-lines{cursor:default}.monaco-editor.hc-black.mac.mouse-copy .view-lines,.monaco-editor.mouse-copy .view-lines,.monaco-editor.vs-dark.mac.mouse-copy .view-lines{cursor:copy}.monaco-editor .find-widget{position:absolute;z-index:35;height:33px;overflow:hidden;line-height:19px;transition:transform .2s linear;padding:0 4px;box-sizing:border-box;transform:translateY(calc(-100% - 10px))}.monaco-editor .find-widget textarea{margin:0}.monaco-editor .find-widget.hiddenEditor{display:none}.monaco-editor .find-widget.replaceToggled>.replace-part{display:flex}.monaco-editor .find-widget.visible{transform:translateY(0)}.monaco-editor .find-widget .monaco-inputbox.synthetic-focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}.monaco-editor .find-widget .monaco-inputbox .input{background-color:transparent;min-height:0}.monaco-editor .find-widget .monaco-findInput .input{font-size:13px}.monaco-editor .find-widget>.find-part,.monaco-editor .find-widget>.replace-part{margin:4px 0 0 17px;font-size:12px;display:flex}.monaco-editor .find-widget>.find-part .monaco-inputbox,.monaco-editor .find-widget>.replace-part .monaco-inputbox{min-height:25px}.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-right:22px}.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.find-part .monaco-inputbox>.ibwrapper>.mirror,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.input,.monaco-editor .find-widget>.replace-part .monaco-inputbox>.ibwrapper>.mirror{padding-top:2px;padding-bottom:2px}.monaco-editor .find-widget>.find-part .find-actions,.monaco-editor .find-widget>.replace-part .replace-actions{height:25px;display:flex;align-items:center}.monaco-editor .find-widget .monaco-findInput{vertical-align:middle;display:flex;flex:1}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element{width:100%}.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical{opacity:0}.monaco-editor .find-widget .matchesCount{display:flex;flex:initial;margin:0 0 0 3px;padding:2px 0 0 2px;height:25px;vertical-align:middle;box-sizing:border-box;text-align:center;line-height:23px}.monaco-editor .find-widget .button{width:16px;height:16px;padding:3px;border-radius:5px;flex:initial;margin-left:3px;background-position:50%;background-repeat:no-repeat;cursor:pointer;display:flex;align-items:center;justify-content:center}.monaco-editor .find-widget .codicon-find-selection{width:22px;height:22px;padding:3px;border-radius:5px}.monaco-editor .find-widget .button.left{margin-left:0;margin-right:3px}.monaco-editor .find-widget .button.wide{width:auto;padding:1px 6px;top:-1px}.monaco-editor .find-widget .button.toggle{position:absolute;top:0;left:3px;width:18px;height:100%;border-radius:0;box-sizing:border-box}.monaco-editor .find-widget .button.toggle.disabled{display:none}.monaco-editor .find-widget .disabled{opacity:.3;cursor:default}.monaco-editor .find-widget>.replace-part{display:none}.monaco-editor .find-widget>.replace-part>.monaco-findInput{position:relative;display:flex;vertical-align:middle;flex:auto;flex-grow:0;flex-shrink:0}.monaco-editor .find-widget>.replace-part>.monaco-findInput>.controls{position:absolute;top:3px;right:2px}.monaco-editor .find-widget.reduced-find-widget .matchesCount{display:none}.monaco-editor .find-widget.narrow-find-widget{max-width:257px!important}.monaco-editor .find-widget.collapsed-find-widget{max-width:170px!important}.monaco-editor .find-widget.collapsed-find-widget .button.next,.monaco-editor .find-widget.collapsed-find-widget .button.previous,.monaco-editor .find-widget.collapsed-find-widget .button.replace,.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,.monaco-editor .find-widget.collapsed-find-widget>.find-part .monaco-findInput .controls{display:none}.monaco-editor .findMatch{animation-duration:0;animation-name:inherit!important}.monaco-editor .find-widget .monaco-sash{left:0!important}.monaco-editor.hc-black .find-widget .button:before{position:relative;top:1px;left:2px}.monaco-editor .margin-view-overlays .codicon-folding-collapsed,.monaco-editor .margin-view-overlays .codicon-folding-expanded{cursor:pointer;opacity:0;transition:opacity .5s;display:flex;align-items:center;justify-content:center;font-size:140%;margin-left:2px}.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons,.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,.monaco-editor .margin-view-overlays:hover .codicon{opacity:1}.monaco-editor .inline-folded:after{color:gray;margin:.1em .2em 0;content:"\\22ef";display:inline;line-height:1em;cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .severity-icon{display:inline-block;vertical-align:text-top;margin-right:4px}.monaco-editor .marker-widget{text-overflow:ellipsis;white-space:nowrap}.monaco-editor .marker-widget>.stale{opacity:.6;font-style:italic}.monaco-editor .marker-widget .title{display:inline-block;padding-right:5px}.monaco-editor .marker-widget .descriptioncontainer{position:absolute;white-space:pre;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:8px 12px 0 20px}.monaco-editor .marker-widget .descriptioncontainer .message{display:flex;flex-direction:column}.monaco-editor .marker-widget .descriptioncontainer .message .details{padding-left:6px}.monaco-editor .marker-widget .descriptioncontainer .message .source,.monaco-editor .marker-widget .descriptioncontainer .message span.code{opacity:.6}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link{opacity:.6;color:inherit}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before{content:"("}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after{content:")"}.monaco-editor .marker-widget .descriptioncontainer .message a.code-link>span{text-decoration:underline;border-bottom:1px solid transparent;text-underline-position:under}.monaco-editor .marker-widget .descriptioncontainer .filename{cursor:pointer}.monaco-editor .goto-definition-link{text-decoration:underline;cursor:pointer}.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget{border-top-width:1px;border-bottom-width:1px}.monaco-editor .reference-zone-widget .inline{display:inline-block;vertical-align:top}.monaco-editor .reference-zone-widget .messages{height:100%;width:100%;text-align:center;padding:3em 0}.monaco-editor .reference-zone-widget .ref-tree{line-height:23px}.monaco-editor .reference-zone-widget .ref-tree .reference{text-overflow:ellipsis;overflow:hidden}.monaco-editor .reference-zone-widget .ref-tree .reference-file{display:inline-flex;width:100%;height:100%}.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file{color:inherit!important}.monaco-editor .reference-zone-widget .ref-tree .reference-file .count{margin-right:12px;margin-left:auto}.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file{font-weight:700}.monaco-editor .suggest-preview-additional-widget{white-space:nowrap}.monaco-editor .suggest-preview-additional-widget .content-spacer{color:transparent;white-space:pre}.monaco-editor .suggest-preview-additional-widget .button{display:inline-block;cursor:pointer;text-decoration:underline;text-underline-position:under}.monaco-editor .ghost-text-hidden{opacity:0;font-size:0}.monaco-editor .ghost-text-decoration,.monaco-editor .suggest-preview-text{font-style:italic}.monaco-editor .detected-link,.monaco-editor .detected-link-active{text-decoration:underline;text-underline-position:under}.monaco-editor .detected-link-active{cursor:pointer}.monaco-editor .monaco-editor-overlaymessage{padding-bottom:8px;z-index:10000}.monaco-editor .monaco-editor-overlaymessage.below{padding-bottom:0;padding-top:8px;z-index:10000}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.monaco-editor .monaco-editor-overlaymessage.fadeIn{animation:fadeIn .15s ease-out}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}.monaco-editor .monaco-editor-overlaymessage.fadeOut{animation:fadeOut .1s ease-out}.monaco-editor .monaco-editor-overlaymessage .message{padding:1px 4px}.monaco-editor .monaco-editor-overlaymessage .anchor{width:0!important;height:0!important;z-index:1000;border:8px solid transparent;position:absolute}.monaco-editor .monaco-editor-overlaymessage.below .anchor.below,.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top{display:none}.monaco-editor .monaco-editor-overlaymessage.below .anchor.top{display:inherit;top:-8px}.monaco-editor .parameter-hints-widget{z-index:10;display:flex;flex-direction:column;line-height:1.5em}.monaco-editor .parameter-hints-widget>.phwrapper{max-width:440px;display:flex;flex-direction:row}.monaco-editor .parameter-hints-widget.multiple{min-height:3.3em;padding:0}.monaco-editor .parameter-hints-widget.visible{transition:left .05s ease-in-out}.monaco-editor .parameter-hints-widget p,.monaco-editor .parameter-hints-widget ul{margin:8px 0}.monaco-editor .parameter-hints-widget .body,.monaco-editor .parameter-hints-widget .monaco-scrollable-element{display:flex;flex:1;flex-direction:column;min-height:100%}.monaco-editor .parameter-hints-widget .signature{padding:4px 5px}.monaco-editor .parameter-hints-widget .docs{padding:0 10px 0 5px;white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs.empty{display:none}.monaco-editor .parameter-hints-widget .docs .markdown-docs{white-space:normal}.monaco-editor .parameter-hints-widget .docs .markdown-docs code{font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .docs .code{white-space:pre-wrap}.monaco-editor .parameter-hints-widget .docs code{border-radius:3px;padding:0 .4em}.monaco-editor .parameter-hints-widget .controls{display:none;flex-direction:column;align-items:center;min-width:22px;justify-content:flex-end}.monaco-editor .parameter-hints-widget.multiple .controls{display:flex;padding:0 2px}.monaco-editor .parameter-hints-widget.multiple .button{width:16px;height:16px;background-repeat:no-repeat;cursor:pointer}.monaco-editor .parameter-hints-widget .button.previous{bottom:24px}.monaco-editor .parameter-hints-widget .overloads{text-align:center;height:12px;line-height:12px;opacity:.5;font-family:var(--monaco-monospace-font)}.monaco-editor .parameter-hints-widget .signature .parameter.active{font-weight:700;text-decoration:underline}.monaco-editor .parameter-hints-widget .documentation-parameter>.parameter{font-weight:700;margin-right:.5em}.monaco-editor .peekview-widget .head{box-sizing:border-box;display:flex}.monaco-editor .peekview-widget .head .peekview-title{display:flex;align-items:center;font-size:13px;margin-left:20px;min-width:0}.monaco-editor .peekview-widget .head .peekview-title.clickable{cursor:pointer}.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty){font-size:.9em;margin-left:.5em}.monaco-editor .peekview-widget .head .peekview-title .dirname,.monaco-editor .peekview-widget .head .peekview-title .meta{white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .filename{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty):before{content:"-";padding:0 .3em}.monaco-editor .peekview-widget .head .peekview-actions{flex:1;text-align:right;padding-right:2px}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar{display:inline-block}.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar,.monaco-editor .peekview-widget .head .peekview-actions>.monaco-action-bar>.actions-container{height:100%}.monaco-editor .peekview-widget>.body{border-top:1px solid;position:relative}.monaco-editor .peekview-widget .head .peekview-title .codicon{margin-right:4px}.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon{color:inherit!important}.monaco-editor .rename-box{z-index:100;color:inherit}.monaco-editor .rename-box.preview{padding:3px 3px 0}.monaco-editor .rename-box .rename-input{padding:3px;width:calc(100% - 6px)}.monaco-editor .rename-box .rename-label{display:none;opacity:.8}.monaco-editor .rename-box.preview .rename-label{display:inherit}.monaco-editor .snippet-placeholder{min-width:2px}.monaco-editor .finish-snippet-placeholder,.monaco-editor .snippet-placeholder{outline-style:solid;outline-width:1px}.monaco-editor .suggest-widget{width:430px;z-index:40;display:flex;flex-direction:column}.monaco-editor .suggest-widget.message{flex-direction:row;align-items:center}.monaco-editor .suggest-details,.monaco-editor .suggest-widget{flex:0 1 auto;width:100%;border-style:solid;border-width:1px}.monaco-editor.hc-black .suggest-details,.monaco-editor.hc-black .suggest-widget{border-width:2px}.monaco-editor .suggest-widget .suggest-status-bar{box-sizing:border-box;display:none;flex-flow:row nowrap;justify-content:space-between;width:100%;font-size:80%;padding:0 4px;border-top:1px solid transparent;overflow:hidden}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar{display:flex}.monaco-editor .suggest-widget .suggest-status-bar .left{padding-right:8px}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label{opacity:.5;color:inherit}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label{margin-right:0}.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label:after{content:", ";margin-right:.3em}.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:100%}.monaco-editor .suggest-widget>.message{padding-left:22px}.monaco-editor .suggest-widget>.tree{height:100%;width:100%}.monaco-editor .suggest-widget .monaco-list{user-select:none;-webkit-user-select:none;-ms-user-select:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row{display:flex;-mox-box-sizing:border-box;box-sizing:border-box;padding-right:10px;background-repeat:no-repeat;background-position:2px 2px;white-space:nowrap;cursor:pointer;touch-action:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents{flex:1;height:100%;overflow:hidden;padding-left:2px}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main{display:flex;overflow:hidden;text-overflow:ellipsis;white-space:pre;justify-content:space-between}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{display:flex}.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight{font-weight:700}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:before{color:inherit;opacity:1;font-size:14px;cursor:pointer}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close{position:absolute;top:6px;right:2px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover{opacity:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{opacity:.7}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label{overflow:hidden;text-overflow:ellipsis;opacity:.6}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label{margin-left:12px;opacity:.4;font-size:85%;line-height:normal;text-overflow:ellipsis;overflow:hidden;align-self:center}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{font-size:85%;margin-left:1.1em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source{display:inline}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label{display:none}.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label{display:inline}.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label{width:calc(100% - 26px)}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left{flex-shrink:1;flex-grow:1;overflow:hidden}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label{flex-shrink:0}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label{max-width:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label{flex-shrink:1}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right{overflow:hidden;flex-shrink:4;max-width:70%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:inline-block;position:absolute;right:10px;width:18px;height:18px;visibility:hidden}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none!important}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore{display:inline-block}.monaco-editor .suggest-widget.docs-below .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row:hover>.contents>.main>.right>.readMore{visibility:visible}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated{opacity:.66;text-decoration:unset}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container{text-decoration:line-through}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label:before{height:100%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon{display:block;height:16px;width:16px;margin-left:2px;background-repeat:no-repeat;background-size:80%;background-position:50%}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon{display:flex;align-items:center;margin-right:4px}.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon:before{display:none}.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan{margin:0 0 0 .3em;border:.1em solid #000;width:.7em;height:.7em;display:inline-block}.monaco-editor .suggest-details-container{z-index:41}.monaco-editor .suggest-details{display:flex;flex-direction:column;cursor:default}.monaco-editor .suggest-details.no-docs{display:none}.monaco-editor .suggest-details>.monaco-scrollable-element{flex:1}.monaco-editor .suggest-details>.monaco-scrollable-element>.body{box-sizing:border-box;height:100%;width:100%}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type{flex:2;overflow:hidden;text-overflow:ellipsis;opacity:.7;white-space:pre;margin:0 24px 0 0;padding:4px 0 12px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap{white-space:normal;word-break:break-all}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs{margin:0;padding:4px 5px;white-space:pre-wrap}.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs{margin-right:24px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs{padding:0;white-space:normal;min-height:calc(1rem + 8px)}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty){padding:4px 5px}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child{margin-top:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child{margin-bottom:0}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code{white-space:pre-wrap;word-wrap:break-word}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon{vertical-align:sub}.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty{display:none}.monaco-editor .suggest-details code{border-radius:3px;padding:0 .4em}.monaco-editor .suggest-details ol,.monaco-editor .suggest-details ul{padding-left:20px}.monaco-editor .suggest-details p code{font-family:var(--monaco-monospace-font)}.monaco-editor .zone-widget{position:absolute;z-index:10}.monaco-editor .zone-widget .zone-widget-container{border-top-style:solid;border-bottom-style:solid;border-top-width:0;border-bottom-width:0;position:relative}.monaco-editor .accessibilityHelpWidget{padding:10px;vertical-align:middle;overflow:scroll}.monaco-editor .iPadShowKeyboard{width:58px;min-width:0;height:36px;min-height:0;margin:0;padding:0;position:absolute;resize:none;overflow:hidden;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzYgNC4wMUg0LjAwOFYzMi4wM2g0NC4wMjhWNC4wMXpNNC4wMDguMDA4QTQuMDAzIDQuMDAzIDAgMDAuMDA1IDQuMDFWMzIuMDNhNC4wMDMgNC4wMDMgMCAwMDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAwNC4wMDMtNC4wMDJWNC4wMUE0LjAwMyA0LjAwMyAwIDAwNDguMDM2LjAwOEg0LjAwOHpNOC4wMSA4LjAxM2g0LjAwM3Y0LjAwM0g4LjAxVjguMDEzem0xMi4wMDggMGgtNC4wMDJ2NC4wMDNoNC4wMDJWOC4wMTN6bTQuMDAzIDBoNC4wMDJ2NC4wMDNoLTQuMDAyVjguMDEzem0xMi4wMDggMGgtNC4wMDN2NC4wMDNoNC4wMDNWOC4wMTN6bTQuMDAyIDBoNC4wMDN2NC4wMDNINDAuMDNWOC4wMTN6bS0yNC4wMTUgOC4wMDVIOC4wMXY0LjAwM2g4LjAwNnYtNC4wMDN6bTQuMDAyIDBoNC4wMDN2NC4wMDNoLTQuMDAzdi00LjAwM3ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzdi00LjAwM3ptMTIuMDA4IDB2NC4wMDNoLTguMDA1di00LjAwM2g4LjAwNXptLTMyLjAyMSA4LjAwNUg4LjAxdjQuMDAzaDQuMDAzdi00LjAwM3ptNC4wMDMgMGgyMC4wMTN2NC4wMDNIMTYuMDE2di00LjAwM3ptMjguMDE4IDBINDAuMDN2NC4wMDNoNC4wMDN2LTQuMDAzeiIgZmlsbD0iIzQyNDI0MiIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+) 50% no-repeat;border:4px solid #f6f6f6;border-radius:4px}.monaco-editor.vs-dark .iPadShowKeyboard{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00OC4wMzYgNC4wMUg0LjAwOFYzMi4wM2g0NC4wMjhWNC4wMXpNNC4wMDguMDA4QTQuMDAzIDQuMDAzIDAgMDAuMDA1IDQuMDFWMzIuMDNhNC4wMDMgNC4wMDMgMCAwMDQuMDAzIDQuMDAyaDQ0LjAyOGE0LjAwMyA0LjAwMyAwIDAwNC4wMDMtNC4wMDJWNC4wMUE0LjAwMyA0LjAwMyAwIDAwNDguMDM2LjAwOEg0LjAwOHpNOC4wMSA4LjAxM2g0LjAwM3Y0LjAwM0g4LjAxVjguMDEzem0xMi4wMDggMGgtNC4wMDJ2NC4wMDNoNC4wMDJWOC4wMTN6bTQuMDAzIDBoNC4wMDJ2NC4wMDNoLTQuMDAyVjguMDEzem0xMi4wMDggMGgtNC4wMDN2NC4wMDNoNC4wMDNWOC4wMTN6bTQuMDAyIDBoNC4wMDN2NC4wMDNINDAuMDNWOC4wMTN6bS0yNC4wMTUgOC4wMDVIOC4wMXY0LjAwM2g4LjAwNnYtNC4wMDN6bTQuMDAyIDBoNC4wMDN2NC4wMDNoLTQuMDAzdi00LjAwM3ptMTIuMDA4IDBoLTQuMDAzdjQuMDAzaDQuMDAzdi00LjAwM3ptMTIuMDA4IDB2NC4wMDNoLTguMDA1di00LjAwM2g4LjAwNXptLTMyLjAyMSA4LjAwNUg4LjAxdjQuMDAzaDQuMDAzdi00LjAwM3ptNC4wMDMgMGgyMC4wMTN2NC4wMDNIMTYuMDE2di00LjAwM3ptMjguMDE4IDBINDAuMDN2NC4wMDNoNC4wMDN2LTQuMDAzeiIgZmlsbD0iI0M1QzVDNSIvPjwvZz48ZGVmcz48Y2xpcFBhdGggaWQ9ImNsaXAwIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDUzdjM2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+) 50% no-repeat;border:4px solid #252526}.monaco-editor .tokens-inspect-widget{z-index:50;user-select:text;-webkit-user-select:text;-ms-user-select:text;padding:10px}.tokens-inspect-separator{height:1px;border:0}.monaco-editor .tokens-inspect-widget .tm-token{font-family:var(--monaco-monospace-font)}.monaco-editor .tokens-inspect-widget .tm-token-length{font-weight:400;font-size:60%;float:right}.monaco-editor .tokens-inspect-widget .tm-metadata-table{width:100%}.monaco-editor .tokens-inspect-widget .tm-metadata-value{font-family:var(--monaco-monospace-font);text-align:right}.monaco-editor .tokens-inspect-widget .tm-token-type{font-family:var(--monaco-monospace-font)}.quick-input-widget{font-size:13px}.quick-input-widget .monaco-highlighted-label .highlight{color:#0066bf}.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight{color:#9dddff}.vs-dark .quick-input-widget .monaco-highlighted-label .highlight{color:#0097fb}.hc-black .quick-input-widget .monaco-highlighted-label .highlight{color:#f38518}.monaco-keybinding>.monaco-keybinding-key{background-color:#ddd6;border:1px solid hsla(0,0%,80%,.4);border-bottom-color:#bbb6;box-shadow:inset 0 -1px #bbb6;color:#555}.hc-black .monaco-keybinding>.monaco-keybinding-key{background-color:transparent;border:1px solid #6fc3df;box-shadow:none;color:#fff}.vs-dark .monaco-keybinding>.monaco-keybinding-key{background-color:#8080802b;border:1px solid rgba(51,51,51,.6);border-bottom-color:#4449;box-shadow:inset 0 -1px #4449;color:#ccc}.monaco-editor{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,HelveticaNeue-Light,system-ui,Ubuntu,Droid Sans,sans-serif;--monaco-monospace-font:"SF Mono",Monaco,Menlo,Consolas,"Ubuntu Mono","Liberation Mono","DejaVu Sans Mono","Courier New",monospace}.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label{stroke-width:1.2px}.monaco-hover p{margin:0}.monaco-aria-container{position:absolute!important;top:0;height:1px;width:1px;margin:-1px;overflow:hidden;padding:0;clip:rect(1px,1px,1px,1px);clip-path:inset(50%)}.monaco-editor.hc-black{-ms-high-contrast-adjust:none}@media screen and (-ms-high-contrast:active){.monaco-editor.vs-dark .view-overlays .current-line,.monaco-editor.vs .view-overlays .current-line{border-color:windowtext!important;border-left:0;border-right:0}.monaco-editor.vs-dark .cursor,.monaco-editor.vs .cursor{background-color:windowtext!important}.monaco-editor.vs-dark .dnd-target,.monaco-editor.vs .dnd-target{border-color:windowtext!important}.monaco-editor.vs-dark .selected-text,.monaco-editor.vs .selected-text{background-color:highlight!important}.monaco-editor.vs-dark .view-line,.monaco-editor.vs .view-line{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .view-line span,.monaco-editor.vs .view-line span{color:windowtext!important}.monaco-editor.vs-dark .view-line span.inline-selected-text,.monaco-editor.vs .view-line span.inline-selected-text{color:highlighttext!important}.monaco-editor.vs-dark .view-overlays,.monaco-editor.vs .view-overlays{-ms-high-contrast-adjust:none}.monaco-editor.vs-dark .reference-decoration,.monaco-editor.vs-dark .selectionHighlight,.monaco-editor.vs-dark .wordHighlight,.monaco-editor.vs-dark .wordHighlightStrong,.monaco-editor.vs .reference-decoration,.monaco-editor.vs .selectionHighlight,.monaco-editor.vs .wordHighlight,.monaco-editor.vs .wordHighlightStrong{border:2px dotted highlight!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .rangeHighlight,.monaco-editor.vs .rangeHighlight{background:transparent!important;border:1px dotted activeborder!important;box-sizing:border-box}.monaco-editor.vs-dark .bracket-match,.monaco-editor.vs .bracket-match{border-color:windowtext!important;background:transparent!important}.monaco-editor.vs-dark .currentFindMatch,.monaco-editor.vs-dark .findMatch,.monaco-editor.vs .currentFindMatch,.monaco-editor.vs .findMatch{border:2px dotted activeborder!important;background:transparent!important;box-sizing:border-box}.monaco-editor.vs-dark .find-widget,.monaco-editor.vs .find-widget{border:1px solid windowtext}.monaco-editor.vs-dark .monaco-list .monaco-list-row,.monaco-editor.vs .monaco-list .monaco-list-row{-ms-high-contrast-adjust:none;color:windowtext!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row.focused,.monaco-editor.vs .monaco-list .monaco-list-row.focused{color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-list .monaco-list-row:hover,.monaco-editor.vs .monaco-list .monaco-list-row:hover{background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar,.monaco-editor.vs .monaco-scrollable-element>.scrollbar{-ms-high-contrast-adjust:none;background:background!important;border:1px solid windowtext;box-sizing:border-box}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider{background:windowtext!important}.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs-dark .monaco-scrollable-element>.scrollbar>.slider:hover,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider.active,.monaco-editor.vs .monaco-scrollable-element>.scrollbar>.slider:hover{background:highlight!important}.monaco-editor.vs-dark .decorationsOverviewRuler,.monaco-editor.vs .decorationsOverviewRuler{opacity:0}.monaco-editor.vs-dark .minimap,.monaco-editor.vs .minimap{display:none}.monaco-editor.vs-dark .squiggly-d-error,.monaco-editor.vs .squiggly-d-error{background:transparent!important;border-bottom:4px double #e47777}.monaco-editor.vs-dark .squiggly-b-info,.monaco-editor.vs-dark .squiggly-c-warning,.monaco-editor.vs .squiggly-b-info,.monaco-editor.vs .squiggly-c-warning{border-bottom:4px double #71b771}.monaco-editor.vs-dark .squiggly-a-hint,.monaco-editor.vs .squiggly-a-hint{border-bottom:4px double #6c6c6c}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label{-ms-high-contrast-adjust:none;color:highlighttext!important;background-color:highlight!important}.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label,.monaco-editor.vs .monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .action-label{-ms-high-contrast-adjust:none;background:transparent!important;border:1px solid highlight;box-sizing:border-box}.monaco-diff-editor.vs-dark .diffOverviewRuler,.monaco-diff-editor.vs .diffOverviewRuler{display:none}.monaco-editor.vs-dark .line-delete,.monaco-editor.vs-dark .line-insert,.monaco-editor.vs .line-delete,.monaco-editor.vs .line-insert{background:transparent!important;border:1px solid highlight!important;box-sizing:border-box}.monaco-editor.vs-dark .char-delete,.monaco-editor.vs-dark .char-insert,.monaco-editor.vs .char-delete,.monaco-editor.vs .char-insert{background:transparent!important}}.monaco-action-bar .action-item.menu-entry .action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-light)}.hc-black .monaco-action-bar .action-item.menu-entry .action-label,.vs-dark .monaco-action-bar .action-item.menu-entry .action-label{background-image:var(--menu-entry-icon-dark)}.monaco-dropdown-with-default{display:flex!important;flex-direction:row;border-radius:5px}.monaco-dropdown-with-default>.action-container>.action-label{margin-right:0}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label.icon{width:16px;height:16px;background-repeat:no-repeat;background-position:50%;background-size:16px}.monaco-dropdown-with-default>.action-container.menu-entry>.action-label{background-image:var(--menu-entry-icon-light)}.hc-black .monaco-dropdown-with-default>.action-container.menu-entry>.action-label,.vs-dark .monaco-dropdown-with-default>.action-container.menu-entry>.action-label{background-image:var(--menu-entry-icon-dark)}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label .codicon[class*=codicon-]{font-size:12px;padding-left:0;padding-right:0;line-height:16px;margin-left:-3px}.monaco-dropdown-with-default>.dropdown-action-container>.monaco-dropdown>.dropdown-label>.action-label{display:block;background-size:16px;background-position:50%;background-repeat:no-repeat}.context-view .monaco-menu{min-width:130px}
`;function ca(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function oo(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,n)}return i}function ro(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?oo(Object(i),!0).forEach(function(n){ca(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):oo(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function da(t,e){return ha(t)||ua(t,e)||fa(t,e)||pa()}function ha(t){if(Array.isArray(t))return t}function ua(t,e){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(t)))){var i=[],n=!0,o=!1,r=void 0;try{for(var s=t[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(i.push(a.value),!(e&&i.length===e));n=!0);}catch(d){o=!0,r=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(o)throw r}}return i}}function fa(t,e){if(!!t){if(typeof t=="string")return so(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return so(t,e)}}function so(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function pa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ga(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ao(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),i.push.apply(i,n)}return i}function lo(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ao(Object(i),!0).forEach(function(n){ga(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ao(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function ma(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(n){return e.reduceRight(function(o,r){return r(o)},n)}}function rt(t){return function e(){for(var i=this,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return o.length>=t.length?t.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),d=0;d<s;d++)a[d]=arguments[d];return e.apply(i,[].concat(o,a))}}}function Vt(t){return{}.toString.call(t).includes("Object")}function ba(t){return!Object.keys(t).length}function st(t){return typeof t=="function"}function wa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xa(t,e){return Vt(e)||ge("changeType"),Object.keys(e).some(function(i){return!wa(t,i)})&&ge("changeField"),e}function _a(t){st(t)||ge("selectorType")}function ya(t){st(t)||Vt(t)||ge("handlerType"),Vt(t)&&Object.values(t).some(function(e){return!st(e)})&&ge("handlersType")}function ka(t){t||ge("initialIsRequired"),Vt(t)||ge("initialType"),ba(t)&&ge("initialContent")}function va(t,e){throw new Error(t[e]||t.default)}var Aa={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},ge=rt(va)(Aa),Ht={changes:xa,selector:_a,handler:ya,initial:ka};function Da(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ht.initial(t),Ht.handler(e);var i={current:t},n=rt(Ca)(i,e),o=rt(Ea)(i),r=rt(Ht.changes)(t),s=rt(Sa)(i);function a(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return Ht.selector(l),l(i.current)}function d(l){ma(n,o,r,s)(l)}return[a,d]}function Sa(t,e){return st(e)?e(t.current):e}function Ea(t,e){return t.current=lo(lo({},t.current),e),e}function Ca(t,e,i){return st(e)?e(t.current):Object.keys(i).forEach(function(n){var o;return(o=e[n])===null||o===void 0?void 0:o.call(e,t.current[n])}),i}var Ma={create:Da},Ia={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.28.1/min/vs"}};function Na(t){return function e(){for(var i=this,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return o.length>=t.length?t.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),d=0;d<s;d++)a[d]=arguments[d];return e.apply(i,[].concat(o,a))}}}function za(t){return{}.toString.call(t).includes("Object")}function Ta(t){return t||ho("configIsRequired"),za(t)||ho("configType"),t.urls?(Oa(),{paths:{vs:t.urls.monacoBase}}):t}function Oa(){console.warn(co.deprecation)}function Ra(t,e){throw new Error(t[e]||t.default)}var co={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ho=Na(Ra)(co),La={config:Ta},Ua=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return function(o){return i.reduceRight(function(r,s){return s(r)},o)}};function uo(t,e){return Object.keys(e).forEach(function(i){e[i]instanceof Object&&t[i]&&Object.assign(e[i],uo(t[i],e[i]))}),ro(ro({},t),e)}var ja={type:"cancelation",msg:"operation is manually canceled"};function fo(t){var e=!1,i=new Promise(function(n,o){t.then(function(r){return e?o(ja):n(r)}),t.catch(o)});return i.cancel=function(){return e=!0},i}var Za=Ma.create({config:Ia,isInitialized:!1,resolve:null,reject:null,monaco:null}),po=da(Za,2),at=po[0],Pt=po[1];function Fa(t){Pt(function(e){return{config:uo(e.config,La.config(t))}})}function $a(){var t=at(function(e){var i=e.isInitialized;return{isInitialized:i}});if(!t.isInitialized){if(window.monaco&&window.monaco.editor)return go(window.monaco),fo(Promise.resolve(window.monaco));Ua(Ba,Va)(Ha),Pt({isInitialized:!0})}return fo(Ga)}function Ba(t){return document.body.appendChild(t)}function qa(t){var e=document.createElement("script");return t&&(e.src=t),e}function Va(t){var e=at(function(n){var o=n.config,r=n.reject;return{config:o,reject:r}}),i=qa("".concat(e.config.paths.vs,"/loader.js"));return i.onload=function(){return t()},i.onerror=e.reject,i}function Ha(){var t=at(function(i){var n=i.config,o=i.resolve,r=i.reject;return{config:n,resolve:o,reject:r}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(i){go(i),t.resolve(i)},function(i){t.reject(i)})}function go(t){at().monaco||Pt({monaco:t})}function Pa(){return at(function(t){var e=t.monaco;return e})}var Ga=new Promise(function(t,e){return Pt({resolve:t,reject:e})}),mo={config:Fa,init:$a,__getMonacoInstance:Pa};const te=()=>new Map,Gt=t=>{const e=te();return t.forEach((i,n)=>{e.set(n,i)}),e},me=(t,e,i)=>{let n=t.get(e);return n===void 0&&t.set(e,n=i()),n},Ya=(t,e)=>{const i=[];for(const[n,o]of t)i.push(e(o,n));return i},Qa=(t,e)=>{for(const[i,n]of t)if(e(n,i))return!0;return!1},lt=()=>new Set,Fi=t=>t[t.length-1],Wa=(t,e)=>{for(let i=0;i<e.length;i++)t.push(e[i])},bo=Array.from;class Ja{constructor(){this._observers=te()}on(e,i){me(this._observers,e,lt).add(i)}once(e,i){const n=(...o)=>{this.off(e,n),i(...o)};this.on(e,n)}off(e,i){const n=this._observers.get(e);n!==void 0&&(n.delete(i),n.size===0&&this._observers.delete(e))}emit(e,i){return bo((this._observers.get(e)||te()).values()).forEach(n=>n(...i))}destroy(){this._observers=te()}}const Yt=Math.floor,$i=Math.abs,wo=(t,e)=>t<e?t:e,Ce=(t,e)=>t>e?t:e,xo=t=>t!==0?t<0:1/t<0,Ka=t=>t.toLowerCase(),Xa=/^\s*/g,el=t=>t.replace(Xa,""),tl=/([A-Z])/g,_o=(t,e)=>el(t.replace(tl,i=>`${e}${Ka(i)}`));typeof TextEncoder!="undefined"&&new TextEncoder;let Bi=typeof TextDecoder=="undefined"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Bi&&Bi.decode(new Uint8Array).length===1&&(Bi=null);const yo=t=>t===void 0?null:t;class il{constructor(){this.map=new Map}setItem(e,i){this.map.set(e,i)}getItem(e){return this.map.get(e)}}let ko=new il,nl=!0;try{typeof localStorage!="undefined"&&(ko=localStorage,nl=!1)}catch{}const ol=ko,qi=typeof process!="undefined"&&process.release&&/node|io\.js/.test(process.release.name);typeof navigator!="undefined"&&/Mac/.test(navigator.platform);let ie;const rl=()=>{if(ie===void 0)if(qi){ie=te();const t=process.argv;let e=null;for(let i=0;i<t.length;i++){const n=t[i];n[0]==="-"?(e!==null&&ie.set(e,""),e=n):e!==null&&(ie.set(e,n),e=null)}e!==null&&ie.set(e,"")}else typeof location=="object"?(ie=te(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,i]=t.split("=");ie.set(`--${_o(e,"-")}`,i),ie.set(`-${_o(e,"-")}`,i)}})):ie=te();return ie},sl=t=>rl().has(t),al=t=>yo(qi?process.env[t.toUpperCase()]:ol.getItem(t)),ll=t=>sl("--"+t)||al(t)!==null;ll("production");const vo=1,Ao=2,Vi=4,Hi=8,ct=32,ce=64,P=128,Qt=31,Pi=63,Me=127,cl=2147483647;class Wt{constructor(e){this.arr=e,this.pos=0}}const Fe=t=>new Wt(t),dl=t=>t.pos!==t.arr.length,hl=(t,e)=>{const i=Wi(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,i},G=t=>hl(t,v(t)),$e=t=>t.arr[t.pos++],v=t=>{let e=0,i=0;for(;;){const n=t.arr[t.pos++];if(e=e|(n&Me)<<i,i+=7,n<P)return e>>>0;if(i>35)throw new Error("Integer out of range!")}},Gi=t=>{let e=t.arr[t.pos++],i=e&Pi,n=6;const o=(e&ce)>0?-1:1;if((e&P)==0)return o*i;for(;;){if(e=t.arr[t.pos++],i=i|(e&Me)<<n,n+=7,e<P)return o*(i>>>0);if(n>41)throw new Error("Integer out of range!")}},Be=t=>{let e=v(t);if(e===0)return"";{let i=String.fromCodePoint($e(t));if(--e<100)for(;e--;)i+=String.fromCodePoint($e(t));else for(;e>0;){const n=e<1e4?e:1e4,o=t.arr.subarray(t.pos,t.pos+n);t.pos+=n,i+=String.fromCodePoint.apply(null,o),e-=n}return decodeURIComponent(escape(i))}},Yi=(t,e)=>{const i=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,i},ul=t=>Yi(t,4).getFloat32(0,!1),fl=t=>Yi(t,8).getFloat64(0,!1),pl=t=>Yi(t,8).getBigInt64(0,!1),gl=[t=>{},t=>null,Gi,ul,fl,pl,t=>!1,t=>!0,Be,t=>{const e=v(t),i={};for(let n=0;n<e;n++){const o=Be(t);i[o]=dt(t)}return i},t=>{const e=v(t),i=[];for(let n=0;n<e;n++)i.push(dt(t));return i},G],dt=t=>gl[127-$e(t)](t);class Do extends Wt{constructor(e,i){super(e);this.reader=i,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),dl(this)?this.count=v(this)+1:this.count=-1),this.count--,this.s}}class Jt extends Wt{constructor(e){super(e);this.s=0,this.count=0}read(){if(this.count===0){this.s=Gi(this);const e=xo(this.s);this.count=1,e&&(this.s=-this.s,this.count=v(this)+2)}return this.count--,this.s}}class Qi extends Wt{constructor(e){super(e);this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=Gi(this),i=e&1;this.diff=e>>1,this.count=1,i&&(this.count=v(this)+2)}return this.s+=this.diff,this.count--,this.s}}class ml{constructor(e){this.decoder=new Jt(e),this.str=Be(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),i=this.str.slice(this.spos,e);return this.spos=e,i}}const bl=t=>new Uint8Array(t),Wi=(t,e,i)=>new Uint8Array(t,e,i),wl=t=>{const e=bl(t.byteLength);return e.set(t),e},xl=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Yt(t)===t);class ht{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Kt=()=>new ht,_l=t=>{let e=t.cpos;for(let i=0;i<t.bufs.length;i++)e+=t.bufs[i].length;return e},ne=t=>{const e=new Uint8Array(_l(t));let i=0;for(let n=0;n<t.bufs.length;n++){const o=t.bufs[n];e.set(o,i),i+=o.length}return e.set(Wi(t.cbuf.buffer,0,t.cpos),i),e},yl=(t,e)=>{const i=t.cbuf.length;i-t.cpos<e&&(t.bufs.push(Wi(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ce(i,e)*2),t.cpos=0)},F=(t,e)=>{const i=t.cbuf.length;t.cpos===i&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(i*2),t.cpos=0),t.cbuf[t.cpos++]=e},Ji=F,S=(t,e)=>{for(;e>Me;)F(t,P|Me&e),e>>>=7;F(t,Me&e)},Ki=(t,e)=>{const i=xo(e);for(i&&(e=-e),F(t,(e>Pi?P:0)|(i?ce:0)|Pi&e),e>>>=6;e>0;)F(t,(e>Me?P:0)|Me&e),e>>>=7},qe=(t,e)=>{const i=unescape(encodeURIComponent(e)),n=i.length;S(t,n);for(let o=0;o<n;o++)F(t,i.codePointAt(o))},Xt=(t,e)=>{const i=t.cbuf.length,n=t.cpos,o=wo(i-n,e.length),r=e.length-o;t.cbuf.set(e.subarray(0,o),n),t.cpos+=o,r>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ce(i*2,r)),t.cbuf.set(e.subarray(o)),t.cpos=r)},Y=(t,e)=>{S(t,e.byteLength),Xt(t,e)},Xi=(t,e)=>{yl(t,e);const i=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,i},kl=(t,e)=>Xi(t,4).setFloat32(0,e,!1),vl=(t,e)=>Xi(t,8).setFloat64(0,e,!1),Al=(t,e)=>Xi(t,8).setBigInt64(0,e,!1),So=new DataView(new ArrayBuffer(4)),Dl=t=>(So.setFloat32(0,t),So.getFloat32(0)===t),ut=(t,e)=>{switch(typeof e){case"string":F(t,119),qe(t,e);break;case"number":xl(e)&&e<=cl?(F(t,125),Ki(t,e)):Dl(e)?(F(t,124),kl(t,e)):(F(t,123),vl(t,e));break;case"bigint":F(t,122),Al(t,e);break;case"object":if(e===null)F(t,126);else if(e instanceof Array){F(t,117),S(t,e.length);for(let i=0;i<e.length;i++)ut(t,e[i])}else if(e instanceof Uint8Array)F(t,116),Y(t,e);else{F(t,118);const i=Object.keys(e);S(t,i.length);for(let n=0;n<i.length;n++){const o=i[n];qe(t,o),ut(t,e[o])}}break;case"boolean":F(t,e?120:121);break;default:F(t,127)}};class Eo extends ht{constructor(e){super();this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&S(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const Co=t=>{t.count>0&&(Ki(t.encoder,t.count===1?t.s:-t.s),t.count>1&&S(t.encoder,t.count-2))};class ei{constructor(){this.encoder=new ht,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Co(this),this.count=1,this.s=e)}toUint8Array(){return Co(this),ne(this.encoder)}}const Mo=t=>{if(t.count>0){const e=t.diff<<1|(t.count===1?0:1);Ki(t.encoder,e),t.count>1&&S(t.encoder,t.count-2)}};class en{constructor(){this.encoder=new ht,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Mo(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Mo(this),ne(this.encoder)}}class Sl{constructor(){this.sarr=[],this.s="",this.lensE=new ei}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new ht;return this.sarr.push(this.s),this.s="",qe(e,this.sarr.join("")),Xt(e,this.lensE.toUint8Array()),ne(e)}}const Io=typeof crypto=="undefined"?null:crypto,El=Io!==null?t=>{const e=new ArrayBuffer(t),i=new Uint8Array(e);return Io.getRandomValues(i),e}:t=>{const e=new ArrayBuffer(t),i=new Uint8Array(e);for(let n=0;n<t;n++)i[n]=Math.ceil(Math.random()*4294967295>>>0);return e},No=()=>new Uint32Array(El(4))[0],Cl=[1e7]+-1e3+-4e3+-8e3+-1e11,Ml=()=>Cl.replace(/[018]/g,t=>(t^No()&15>>t/4).toString(16)),ti=t=>new Error(t),oe=()=>{throw ti("Method unimplemented")},X=()=>{throw ti("Unexpected case")},Il=Object.keys,zo=t=>Il(t).length,Nl=(t,e)=>{for(const i in t)if(!e(t[i],i))return!1;return!0},zl=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Tl=(t,e)=>t===e||zo(t)===zo(e)&&Nl(t,(i,n)=>(i!==void 0||zl(e,n))&&e[n]===i),tn=(t,e,i=0)=>{try{for(;i<t.length;i++)t[i](...e)}finally{i<t.length&&tn(t,e,i+1)}},de=Symbol;class Ol{constructor(e,i){this.left=e,this.right=i}}const he=(t,e)=>new Ol(t,e),Ie=typeof document!="undefined"?document:{};typeof DOMParser!="undefined"&&new DOMParser;const Rl=t=>Ya(t,(e,i)=>`${i}:${e};`).join("");Ie.ELEMENT_NODE;Ie.TEXT_NODE;Ie.CDATA_SECTION_NODE;Ie.COMMENT_NODE;Ie.DOCUMENT_NODE;Ie.DOCUMENT_TYPE_NODE;Ie.DOCUMENT_FRAGMENT_NODE;const ff=Date.now,nn=de(),on=de(),To=de(),Oo=de(),Ro=de(),rn=de(),Lo=de(),sn=de(),Uo=de(),Ll={[nn]:he("font-weight","bold"),[on]:he("font-weight","normal"),[To]:he("color","blue"),[Ro]:he("color","green"),[Oo]:he("color","grey"),[rn]:he("color","red"),[Lo]:he("color","purple"),[sn]:he("color","orange"),[Uo]:he("color","black")},Ul={[nn]:"[1m",[on]:"[2m",[To]:"[34m",[Ro]:"[32m",[Oo]:"[37m",[rn]:"[31m",[Lo]:"[35m",[sn]:"[38;5;208m",[Uo]:"[0m"},jl=t=>{const e=[],i=[],n=te();let o=[],r=0;for(;r<t.length;r++){const s=t[r],a=Ll[s];if(a!==void 0)n.set(a.left,a.right);else if(s.constructor===String||s.constructor===Number){const d=Rl(n);r>0||d.length>0?(e.push("%c"+s),i.push(d)):e.push(s)}else break}for(r>0&&(o=i,o.unshift(e.join("")));r<t.length;r++){const s=t[r];s instanceof Symbol||o.push(s)}return o},Zl=t=>{const e=[],i=[];let n=0;for(;n<t.length;n++){const o=t[n],r=Ul[o];if(r!==void 0)e.push(r);else if(o.constructor===String||o.constructor===Number)e.push(o);else break}for(n>0&&(e.push("[0m"),i.push(e.join("")));n<t.length;n++){const o=t[n];o instanceof Symbol||i.push(o)}return i},Fl=qi?Zl:jl,$l=(...t)=>{console.log(...Fl(t)),Bl.forEach(e=>e.print(t))},Bl=new Set,jo=t=>({[Symbol.iterator](){return this},next:t}),ql=(t,e)=>jo(()=>{let i;do i=t.next();while(!i.done&&!e(i.value));return i}),an=(t,e)=>jo(()=>{const{done:i,value:n}=t.next();return{done:i,value:i?void 0:e(n)}});class ln{constructor(e,i){this.clock=e,this.len=i}}class ft{constructor(){this.clients=new Map}}const cn=(t,e,i)=>e.clients.forEach((n,o)=>{const r=t.doc.store.clients.get(o);for(let s=0;s<n.length;s++){const a=n[s];nr(t,r,a.clock,a.len,i)}}),Vl=(t,e)=>{let i=0,n=t.length-1;for(;i<=n;){const o=Yt((i+n)/2),r=t[o],s=r.clock;if(s<=e){if(e<s+r.len)return o;i=o+1}else n=o-1}return null},Zo=(t,e)=>{const i=t.clients.get(e.client);return i!==void 0&&Vl(i,e.clock)!==null},dn=t=>{t.clients.forEach(e=>{e.sort((o,r)=>o.clock-r.clock);let i,n;for(i=1,n=1;i<e.length;i++){const o=e[n-1],r=e[i];o.clock+o.len>=r.clock?o.len=Ce(o.len,r.clock+r.len-o.clock):(n<i&&(e[n]=r),n++)}e.length=n})},Hl=t=>{const e=new ft;for(let i=0;i<t.length;i++)t[i].clients.forEach((n,o)=>{if(!e.clients.has(o)){const r=n.slice();for(let s=i+1;s<t.length;s++)Wa(r,t[s].clients.get(o)||[]);e.clients.set(o,r)}});return dn(e),e},ii=(t,e,i,n)=>{me(t.clients,e,()=>[]).push(new ln(i,n))},Fo=()=>new ft,Pl=t=>{const e=Fo();return t.clients.forEach((i,n)=>{const o=[];for(let r=0;r<i.length;r++){const s=i[r];if(s.deleted){const a=s.id.clock;let d=s.length;if(r+1<i.length)for(let l=i[r+1];r+1<i.length&&l.deleted;l=i[++r+1])d+=l.length;o.push(new ln(a,d))}}o.length>0&&e.clients.set(n,o)}),e},Ve=(t,e)=>{S(t.restEncoder,e.clients.size),e.clients.forEach((i,n)=>{t.resetDsCurVal(),S(t.restEncoder,n);const o=i.length;S(t.restEncoder,o);for(let r=0;r<o;r++){const s=i[r];t.writeDsClock(s.clock),t.writeDsLen(s.len)}})},hn=t=>{const e=new ft,i=v(t.restDecoder);for(let n=0;n<i;n++){t.resetDsCurVal();const o=v(t.restDecoder),r=v(t.restDecoder);if(r>0){const s=me(e.clients,o,()=>[]);for(let a=0;a<r;a++)s.push(new ln(t.readDsClock(),t.readDsLen()))}}return e},$o=(t,e,i)=>{const n=new ft,o=v(t.restDecoder);for(let r=0;r<o;r++){t.resetDsCurVal();const s=v(t.restDecoder),a=v(t.restDecoder),d=i.clients.get(s)||[],l=R(i,s);for(let c=0;c<a;c++){const f=t.readDsClock(),u=f+t.readDsLen();if(f<l){l<u&&ii(n,s,l,u-l);let h=re(d,f),p=d[h];for(!p.deleted&&p.id.clock<f&&(d.splice(h+1,0,xi(e,p,f-p.id.clock)),h++);h<d.length&&(p=d[h++],p.id.clock<u);)p.deleted||(u<p.id.clock+p.length&&d.splice(h,0,xi(e,p,u-p.id.clock)),p.delete(e))}else ii(n,s,f,u-f)}}if(n.clients.size>0){const r=new Ne;return S(r.restEncoder,0),Ve(r,n),r.toUint8Array()}return null},Bo=No;class He extends Ja{constructor({guid:e=Ml(),gc:i=!0,gcFilter:n=()=>!0,meta:o=null,autoLoad:r=!1}={}){super();this.gc=i,this.gcFilter=n,this.clientID=Bo(),this.guid=e,this.share=new Map,this.store=new er,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=r,this.autoLoad=r,this.meta=o}load(){const e=this._item;e!==null&&!this.shouldLoad&&z(e.parent.doc,i=>{i.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Array.from(this.subdocs).map(e=>e.guid))}transact(e,i=null){z(this,e,i)}get(e,i=q){const n=me(this.share,e,()=>{const r=new i;return r._integrate(this,null),r}),o=n.constructor;if(i!==q&&o!==i)if(o===q){const r=new i;r._map=n._map,n._map.forEach(s=>{for(;s!==null;s=s.left)s.parent=r}),r._start=n._start;for(let s=r._start;s!==null;s=s.right)s.parent=r;return r._length=n._length,this.share.set(e,r),r._integrate(this,null),r}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=""){return this.get(e,Ye)}getText(e=""){return this.get(e,Je)}getMap(e=""){return this.get(e,Qe)}getXmlFragment(e=""){return this.get(e,ze)}toJSON(){const e={};return this.share.forEach((i,n)=>{e[n]=i.toJSON()}),e}destroy(){bo(this.subdocs).forEach(i=>i.destroy());const e=this._item;if(e!==null){this._item=null;const i=e.content;e.deleted?i.doc=null:(i.doc=new He(Zi({guid:this.guid},i.opts)),i.doc._item=e),z(e.parent.doc,n=>{e.deleted||n.subdocsAdded.add(i.doc),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,i){super.on(e,i)}off(e,i){super.off(e,i)}}class qo{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return v(this.restDecoder)}readDsLen(){return v(this.restDecoder)}}class Vo extends qo{readLeftID(){return y(v(this.restDecoder),v(this.restDecoder))}readRightID(){return y(v(this.restDecoder),v(this.restDecoder))}readClient(){return v(this.restDecoder)}readInfo(){return $e(this.restDecoder)}readString(){return Be(this.restDecoder)}readParentInfo(){return v(this.restDecoder)===1}readTypeRef(){return v(this.restDecoder)}readLen(){return v(this.restDecoder)}readAny(){return dt(this.restDecoder)}readBuf(){return wl(G(this.restDecoder))}readJSON(){return JSON.parse(Be(this.restDecoder))}readKey(){return Be(this.restDecoder)}}class Gl{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=v(this.restDecoder),this.dsCurrVal}readDsLen(){const e=v(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Pe extends Gl{constructor(e){super(e);this.keys=[],v(e),this.keyClockDecoder=new Qi(G(e)),this.clientDecoder=new Jt(G(e)),this.leftClockDecoder=new Qi(G(e)),this.rightClockDecoder=new Qi(G(e)),this.infoDecoder=new Do(G(e),$e),this.stringDecoder=new ml(G(e)),this.parentInfoDecoder=new Do(G(e),$e),this.typeRefDecoder=new Jt(G(e)),this.lenDecoder=new Jt(G(e))}readLeftID(){return new Ge(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Ge(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return dt(this.restDecoder)}readBuf(){return G(this.restDecoder)}readJSON(){return dt(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const i=this.stringDecoder.read();return this.keys.push(i),i}}}class Yl{constructor(){this.restEncoder=Kt()}toUint8Array(){return ne(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){S(this.restEncoder,e)}writeDsLen(e){S(this.restEncoder,e)}}class pt extends Yl{writeLeftID(e){S(this.restEncoder,e.client),S(this.restEncoder,e.clock)}writeRightID(e){S(this.restEncoder,e.client),S(this.restEncoder,e.clock)}writeClient(e){S(this.restEncoder,e)}writeInfo(e){Ji(this.restEncoder,e)}writeString(e){qe(this.restEncoder,e)}writeParentInfo(e){S(this.restEncoder,e?1:0)}writeTypeRef(e){S(this.restEncoder,e)}writeLen(e){S(this.restEncoder,e)}writeAny(e){ut(this.restEncoder,e)}writeBuf(e){Y(this.restEncoder,e)}writeJSON(e){qe(this.restEncoder,JSON.stringify(e))}writeKey(e){qe(this.restEncoder,e)}}class Ql{constructor(){this.restEncoder=Kt(),this.dsCurrVal=0}toUint8Array(){return ne(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const i=e-this.dsCurrVal;this.dsCurrVal=e,S(this.restEncoder,i)}writeDsLen(e){e===0&&X(),S(this.restEncoder,e-1),this.dsCurrVal+=e}}class Ne extends Ql{constructor(){super();this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new en,this.clientEncoder=new ei,this.leftClockEncoder=new en,this.rightClockEncoder=new en,this.infoEncoder=new Eo(Ji),this.stringEncoder=new Sl,this.parentInfoEncoder=new Eo(Ji),this.typeRefEncoder=new ei,this.lenEncoder=new ei}toUint8Array(){const e=Kt();return S(e,0),Y(e,this.keyClockEncoder.toUint8Array()),Y(e,this.clientEncoder.toUint8Array()),Y(e,this.leftClockEncoder.toUint8Array()),Y(e,this.rightClockEncoder.toUint8Array()),Y(e,ne(this.infoEncoder)),Y(e,this.stringEncoder.toUint8Array()),Y(e,ne(this.parentInfoEncoder)),Y(e,this.typeRefEncoder.toUint8Array()),Y(e,this.lenEncoder.toUint8Array()),Xt(e,ne(this.restEncoder)),ne(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){ut(this.restEncoder,e)}writeBuf(e){Y(this.restEncoder,e)}writeJSON(e){ut(this.restEncoder,e)}writeKey(e){this.keyMap.get(e)===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(this.keyClock++)}}const Wl=(t,e,i,n)=>{n=Ce(n,e[0].id.clock);const o=re(e,n);S(t.restEncoder,e.length-o),t.writeClient(i),S(t.restEncoder,n);const r=e[o];r.write(t,n-r.id.clock);for(let s=o+1;s<e.length;s++)e[s].write(t,0)},un=(t,e,i)=>{const n=new Map;i.forEach((o,r)=>{R(e,r)>o&&n.set(r,o)}),mn(e).forEach((o,r)=>{i.has(r)||n.set(r,0)}),S(t.restEncoder,n.size),Array.from(n.entries()).sort((o,r)=>r[0]-o[0]).forEach(([o,r])=>{Wl(t,e.clients.get(o),o,r)})},Jl=(t,e)=>{const i=te(),n=v(t.restDecoder);for(let o=0;o<n;o++){const r=v(t.restDecoder),s=new Array(r),a=t.readClient();let d=v(t.restDecoder);i.set(a,{i:0,refs:s});for(let l=0;l<r;l++){const c=t.readInfo();switch(Qt&c){case 0:{const f=t.readLen();s[l]=new Q(y(a,d),f),d+=f;break}case 10:{const f=v(t.restDecoder);s[l]=new W(y(a,d),f),d+=f;break}default:{const f=(c&(ce|P))==0,u=new O(y(a,d),null,(c&P)===P?t.readLeftID():null,null,(c&ce)===ce?t.readRightID():null,f?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,f&&(c&ct)===ct?t.readString():null,Er(t,c));s[l]=u,d+=u.length}}}}return i},Kl=(t,e,i)=>{const n=[];let o=Array.from(i.keys()).sort((h,p)=>h-p);if(o.length===0)return null;const r=()=>{if(o.length===0)return null;let h=i.get(o[o.length-1]);for(;h.refs.length===h.i;)if(o.pop(),o.length>0)h=i.get(o[o.length-1]);else return null;return h};let s=r();if(s===null&&n.length===0)return null;const a=new er,d=new Map,l=(h,p)=>{const m=d.get(h);(m==null||m>p)&&d.set(h,p)};let c=s.refs[s.i++];const f=new Map,u=()=>{for(const h of n){const p=h.id.client,m=i.get(p);m?(m.i--,a.clients.set(p,m.refs.slice(m.i)),i.delete(p),m.i=0,m.refs=[]):a.clients.set(p,[h]),o=o.filter(w=>w!==p)}n.length=0};for(;;){if(c.constructor!==W){const p=me(f,c.id.client,()=>R(e,c.id.client))-c.id.clock;if(p<0)n.push(c),l(c.id.client,c.id.clock-1),u();else{const m=c.getMissing(t,e);if(m!==null){n.push(c);const w=i.get(m)||{refs:[],i:0};if(w.refs.length===w.i)l(m,R(e,m)),u();else{c=w.refs[w.i++];continue}}else(p===0||p<c.length)&&(c.integrate(t,p),f.set(c.id.client,c.id.clock+c.length))}}if(n.length>0)c=n.pop();else if(s!==null&&s.i<s.refs.length)c=s.refs[s.i++];else{if(s=r(),s===null)break;c=s.refs[s.i++]}}if(a.clients.size>0){const h=new Ne;return un(h,a,new Map),S(h.restEncoder,0),{missing:d,update:h.toUint8Array()}}return null},Xl=(t,e)=>un(t,e.doc.store,e.beforeState),ec=(t,e,i,n=new Pe(t))=>z(e,o=>{o.local=!1;let r=!1;const s=o.doc,a=s.store,d=Jl(n,s),l=Kl(o,a,d),c=a.pendingStructs;if(c){for(const[u,h]of c.missing)if(h<R(a,u)){r=!0;break}if(l){for(const[u,h]of l.missing){const p=c.missing.get(u);(p==null||p>h)&&c.missing.set(u,h)}c.update=li([c.update,l.update])}}else a.pendingStructs=l;const f=$o(n,o,a);if(a.pendingDs){const u=new Pe(Fe(a.pendingDs));v(u.restDecoder);const h=$o(u,o,a);f&&h?a.pendingDs=li([f,h]):a.pendingDs=f||h}else a.pendingDs=f;if(r){const u=a.pendingStructs.update;a.pendingStructs=null,Ho(o.doc,u)}},i,!1),Ho=(t,e,i,n=Pe)=>{const o=Fe(e);ec(o,t,i,new n(o))},Po=(t,e,i)=>Ho(t,e,i,Vo),tc=(t,e,i=new Map)=>{un(t,e.store,i),Ve(t,Pl(e.store))},ic=(t,e=new Uint8Array([0]),i=new Ne)=>{const n=Go(e);tc(i,t,n);const o=[i.toUint8Array()];if(t.store.pendingDs&&o.push(t.store.pendingDs),t.store.pendingStructs&&o.push(wc(t.store.pendingStructs.update,e)),o.length>1){if(i.constructor===pt)return mc(o.map((r,s)=>s===0?r:_c(r)));if(i.constructor===Ne)return li(o)}return o[0]},nc=(t,e)=>ic(t,e,new pt),oc=t=>{const e=new Map,i=v(t.restDecoder);for(let n=0;n<i;n++){const o=v(t.restDecoder),r=v(t.restDecoder);e.set(o,r)}return e},Go=t=>oc(new qo(Fe(t)));class rc{constructor(){this.l=[]}}const Yo=()=>new rc,Qo=(t,e)=>t.l.push(e),Wo=(t,e)=>{const i=t.l,n=i.length;t.l=i.filter(o=>e!==o),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Jo=(t,e,i)=>tn(t.l,[e,i]);class Ge{constructor(e,i){this.client=e,this.clock=i}}const ni=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,y=(t,e)=>new Ge(t,e),Ko=t=>{for(const[e,i]of t.doc.share.entries())if(i===t)return e;throw X()};class Xo{constructor(e,i,n,o=0){this.type=e,this.tname=i,this.item=n,this.assoc=o}}const fn=t=>new Xo(t.type==null?null:y(t.type.client,t.type.clock),t.tname||null,t.item==null?null:y(t.item.client,t.item.clock),t.assoc==null?0:t.assoc);class sc{constructor(e,i,n=0){this.type=e,this.index=i,this.assoc=n}}const ac=(t,e,i=0)=>new sc(t,e,i),oi=(t,e,i)=>{let n=null,o=null;return t._item===null?o=Ko(t):n=y(t._item.id.client,t._item.id.clock),new Xo(n,o,e,i)},pn=(t,e,i=0)=>{let n=t._start;if(i<0){if(e===0)return oi(t,null,i);e--}for(;n!==null;){if(!n.deleted&&n.countable){if(n.length>e)return oi(t,y(n.id.client,n.id.clock+e),i);e-=n.length}if(n.right===null&&i<0)return oi(t,n.lastId,i);n=n.right}return oi(t,null,i)},gn=(t,e)=>{const i=e.store,n=t.item,o=t.type,r=t.tname,s=t.assoc;let a=null,d=0;if(n!==null){if(R(i,n.client)<=n.clock)return null;const l=Sr(i,n),c=l.item;if(!(c instanceof O))return null;if(a=c.parent,a._item===null||!a._item.deleted){d=c.deleted||!c.countable?0:l.diff+(s>=0?0:1);let f=c.left;for(;f!==null;)!f.deleted&&f.countable&&(d+=f.length),f=f.left}}else{if(r!==null)a=e.get(r);else if(o!==null){if(R(i,o.client)<=o.clock)return null;const{item:l}=Sr(i,o);if(l instanceof O&&l.content instanceof Ke)a=l.content.type;else return null}else throw X();s>=0?d=a._length:d=0}return ac(a,d,t.assoc)};class lc{constructor(e,i){this.ds=e,this.sv=i}}const cc=(t,e)=>new lc(t,e);cc(Fo(),new Map);const gt=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Zo(e.ds,t.id),ri=(t,e)=>{const i=me(t.meta,ri,lt),n=t.doc.store;i.has(e)||(e.sv.forEach((o,r)=>{o<R(n,r)&&be(t,y(r,o))}),cn(t,e.ds,o=>{}),i.add(e))};class er{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const mn=t=>{const e=new Map;return t.clients.forEach((i,n)=>{const o=i[i.length-1];e.set(n,o.id.clock+o.length)}),e},R=(t,e)=>{const i=t.clients.get(e);if(i===void 0)return 0;const n=i[i.length-1];return n.id.clock+n.length},tr=(t,e)=>{let i=t.clients.get(e.id.client);if(i===void 0)i=[],t.clients.set(e.id.client,i);else{const n=i[i.length-1];if(n.id.clock+n.length!==e.id.clock)throw X()}i.push(e)},re=(t,e)=>{let i=0,n=t.length-1,o=t[n],r=o.id.clock;if(r===e)return n;let s=Yt(e/(r+o.length-1)*n);for(;i<=n;){if(o=t[s],r=o.id.clock,r<=e){if(e<r+o.length)return s;i=s+1}else n=s-1;s=Yt((i+n)/2)}throw X()},dc=(t,e)=>{const i=t.clients.get(e.client);return i[re(i,e.clock)]},si=dc,bn=(t,e,i)=>{const n=re(e,i),o=e[n];return o.id.clock<i&&o instanceof O?(e.splice(n+1,0,xi(t,o,i-o.id.clock)),n+1):n},be=(t,e)=>{const i=t.doc.store.clients.get(e.client);return i[bn(t,i,e.clock)]},ir=(t,e,i)=>{const n=e.clients.get(i.client),o=re(n,i.clock),r=n[o];return i.clock!==r.id.clock+r.length-1&&r.constructor!==Q&&n.splice(o+1,0,xi(t,r,i.clock-r.id.clock+1)),r},hc=(t,e,i)=>{const n=t.clients.get(e.id.client);n[re(n,e.id.clock)]=i},nr=(t,e,i,n,o)=>{if(n===0)return;const r=i+n;let s=bn(t,e,i),a;do a=e[s++],r<a.id.clock+a.length&&bn(t,e,r),o(a);while(s<e.length&&e[s].id.clock<r)};class uc{constructor(e,i,n){this.doc=e,this.deleteSet=new ft,this.beforeState=mn(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=i,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const or=(t,e)=>e.deleteSet.clients.size===0&&!Qa(e.afterState,(i,n)=>e.beforeState.get(n)!==i)?!1:(dn(e.deleteSet),Xl(t,e),Ve(t,e.deleteSet),!0),rr=(t,e,i)=>{const n=e._item;(n===null||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&me(t.changed,e,lt).add(i)},ai=(t,e)=>{const i=t[e-1],n=t[e];i.deleted===n.deleted&&i.constructor===n.constructor&&i.mergeWith(n)&&(t.splice(e,1),n instanceof O&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,i))},fc=(t,e,i)=>{for(const[n,o]of t.clients.entries()){const r=e.clients.get(n);for(let s=o.length-1;s>=0;s--){const a=o[s],d=a.clock+a.len;for(let l=re(r,a.clock),c=r[l];l<r.length&&c.id.clock<d;c=r[++l]){const f=r[l];if(a.clock+a.len<=f.id.clock)break;f instanceof O&&f.deleted&&!f.keep&&i(f)&&f.gc(e,!1)}}}},pc=(t,e)=>{t.clients.forEach((i,n)=>{const o=e.clients.get(n);for(let r=i.length-1;r>=0;r--){const s=i[r],a=wo(o.length-1,1+re(o,s.clock+s.len-1));for(let d=a,l=o[d];d>0&&l.id.clock>=s.clock;l=o[--d])ai(o,d)}})},sr=(t,e)=>{if(e<t.length){const i=t[e],n=i.doc,o=n.store,r=i.deleteSet,s=i._mergeStructs;try{dn(r),i.afterState=mn(i.doc.store),n._transaction=null,n.emit("beforeObserverCalls",[i,n]);const a=[];i.changed.forEach((d,l)=>a.push(()=>{(l._item===null||!l._item.deleted)&&l._callObserver(i,d)})),a.push(()=>{i.changedParentTypes.forEach((d,l)=>a.push(()=>{(l._item===null||!l._item.deleted)&&(d=d.filter(c=>c.target._item===null||!c.target._item.deleted),d.forEach(c=>{c.currentTarget=l}),d.sort((c,f)=>c.path.length-f.path.length),Jo(l._dEH,d,i))})),a.push(()=>n.emit("afterTransaction",[i,n]))}),tn(a,[])}finally{n.gc&&fc(r,o,n.gcFilter),pc(r,o),i.afterState.forEach((a,d)=>{const l=i.beforeState.get(d)||0;if(l!==a){const c=o.clients.get(d),f=Ce(re(c,l),1);for(let u=c.length-1;u>=f;u--)ai(c,u)}});for(let a=0;a<s.length;a++){const{client:d,clock:l}=s[a].id,c=o.clients.get(d),f=re(c,l);f+1<c.length&&ai(c,f+1),f>0&&ai(c,f)}if(!i.local&&i.afterState.get(n.clientID)!==i.beforeState.get(n.clientID)&&(n.clientID=Bo(),$l(sn,nn,"[yjs] ",on,rn,"Changed the client-id because another client seems to be using it.")),n.emit("afterTransactionCleanup",[i,n]),n._observers.has("update")){const a=new pt;or(a,i)&&n.emit("update",[a.toUint8Array(),i.origin,n,i])}if(n._observers.has("updateV2")){const a=new Ne;or(a,i)&&n.emit("updateV2",[a.toUint8Array(),i.origin,n,i])}i.subdocsAdded.forEach(a=>n.subdocs.add(a)),i.subdocsRemoved.forEach(a=>n.subdocs.delete(a)),n.emit("subdocs",[{loaded:i.subdocsLoaded,added:i.subdocsAdded,removed:i.subdocsRemoved}]),i.subdocsRemoved.forEach(a=>a.destroy()),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):sr(t,e+1)}}},z=(t,e,i=null,n=!0)=>{const o=t._transactionCleanups;let r=!1;t._transaction===null&&(r=!0,t._transaction=new uc(t,i,n),o.push(t._transaction),o.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{e(t._transaction)}finally{r&&o[0]===t._transaction&&sr(o,0)}};function*gc(t){const e=v(t.restDecoder);for(let i=0;i<e;i++){const n=v(t.restDecoder),o=t.readClient();let r=v(t.restDecoder);for(let s=0;s<n;s++){const a=t.readInfo();if(a===10){const d=v(t.restDecoder);yield new W(y(o,r),d),r+=d}else if((Qt&a)!=0){const d=(a&(ce|P))==0,l=new O(y(o,r),null,(a&P)===P?t.readLeftID():null,null,(a&ce)===ce?t.readRightID():null,d?t.readParentInfo()?t.readString():t.readLeftID():null,d&&(a&ct)===ct?t.readString():null,Er(t,a));yield l,r+=l.length}else{const d=t.readLen();yield new Q(y(o,r),d),r+=d}}}}class wn{constructor(e,i){this.gen=gc(e),this.curr=null,this.done=!1,this.filterSkips=i,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===W);return this.curr}}class xn{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const mc=t=>li(t,Vo,pt),bc=(t,e)=>{if(t.constructor===Q){const{client:i,clock:n}=t.id;return new Q(y(i,n+e),t.length-e)}else if(t.constructor===W){const{client:i,clock:n}=t.id;return new W(y(i,n+e),t.length-e)}else{const i=t,{client:n,clock:o}=i.id;return new O(y(n,o+e),null,y(n,o+e-1),null,i.rightOrigin,i.parent,i.parentSub,i.content.splice(e))}},li=(t,e=Pe,i=Ne)=>{if(t.length===1)return t[0];const n=t.map(c=>new e(Fe(c)));let o=n.map(c=>new wn(c,!0)),r=null;const s=new i,a=new xn(s);for(;o=o.filter(u=>u.curr!==null),o.sort((u,h)=>{if(u.curr.id.client===h.curr.id.client){const p=u.curr.id.clock-h.curr.id.clock;return p===0?u.curr.constructor===h.curr.constructor?0:u.curr.constructor===W?1:-1:p}else return h.curr.id.client-u.curr.id.client}),o.length!==0;){const c=o[0],f=c.curr.id.client;if(r!==null){let u=c.curr,h=!1;for(;u!==null&&u.id.clock+u.length<=r.struct.id.clock+r.struct.length&&u.id.client>=r.struct.id.client;)u=c.next(),h=!0;if(u===null||u.id.client!==f||h&&u.id.clock>r.struct.id.clock+r.struct.length)continue;if(f!==r.struct.id.client)we(a,r.struct,r.offset),r={struct:u,offset:0},c.next();else if(r.struct.id.clock+r.struct.length<u.id.clock)if(r.struct.constructor===W)r.struct.length=u.id.clock+u.length-r.struct.id.clock;else{we(a,r.struct,r.offset);const p=u.id.clock-r.struct.id.clock-r.struct.length;r={struct:new W(y(f,r.struct.id.clock+r.struct.length),p),offset:0}}else{const p=r.struct.id.clock+r.struct.length-u.id.clock;p>0&&(r.struct.constructor===W?r.struct.length-=p:u=bc(u,p)),r.struct.mergeWith(u)||(we(a,r.struct,r.offset),r={struct:u,offset:0},c.next())}}else r={struct:c.curr,offset:0},c.next();for(let u=c.curr;u!==null&&u.id.client===f&&u.id.clock===r.struct.id.clock+r.struct.length&&u.constructor!==W;u=c.next())we(a,r.struct,r.offset),r={struct:u,offset:0}}r!==null&&(we(a,r.struct,r.offset),r=null),_n(a);const d=n.map(c=>hn(c)),l=Hl(d);return Ve(s,l),s.toUint8Array()},wc=(t,e,i=Pe,n=Ne)=>{const o=Go(e),r=new n,s=new xn(r),a=new i(Fe(t)),d=new wn(a,!1);for(;d.curr;){const c=d.curr,f=c.id.client,u=o.get(f)||0;if(d.curr.constructor===W){d.next();continue}if(c.id.clock+c.length>u)for(we(s,c,Ce(u-c.id.clock,0)),d.next();d.curr&&d.curr.id.client===f;)we(s,d.curr,0),d.next();else for(;d.curr&&d.curr.id.client===f&&d.curr.id.clock+d.curr.length<=u;)d.next()}_n(s);const l=hn(a);return Ve(r,l),r.toUint8Array()},ar=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:ne(t.encoder.restEncoder)}),t.encoder.restEncoder=Kt(),t.written=0)},we=(t,e,i)=>{t.written>0&&t.currClient!==e.id.client&&ar(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),S(t.encoder.restEncoder,e.id.clock+i)),e.write(t.encoder,i),t.written++},_n=t=>{ar(t);const e=t.encoder.restEncoder;S(e,t.clientStructs.length);for(let i=0;i<t.clientStructs.length;i++){const n=t.clientStructs[i];S(e,n.written),Xt(e,n.restEncoder)}},xc=(t,e,i)=>{const n=new e(Fe(t)),o=new wn(n,!1),r=new i,s=new xn(r);for(let d=o.curr;d!==null;d=o.next())we(s,d,0);_n(s);const a=hn(n);return Ve(r,a),r.toUint8Array()},_c=t=>xc(t,Pe,pt);class ci{constructor(e,i){this.target=e,this.currentTarget=e,this.transaction=i,this._changes=null,this._keys=null,this._delta=null}get path(){return yc(this.currentTarget,this.target)}deletes(e){return Zo(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){const e=new Map,i=this.target;this.transaction.changed.get(i).forEach(o=>{if(o!==null){const r=i._map.get(o);let s,a;if(this.adds(r)){let d=r.left;for(;d!==null&&this.adds(d);)d=d.left;if(this.deletes(r))if(d!==null&&this.deletes(d))s="delete",a=Fi(d.content.getContent());else return;else d!==null&&this.deletes(d)?(s="update",a=Fi(d.content.getContent())):(s="add",a=void 0)}else if(this.deletes(r))s="delete",a=Fi(r.content.getContent());else return;e.set(o,{action:s,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){const i=this.target,n=lt(),o=lt(),r=[];if(e={added:n,deleted:o,delta:r,keys:this.keys},this.transaction.changed.get(i).has(null)){let a=null;const d=()=>{a&&r.push(a)};for(let l=i._start;l!==null;l=l.right)l.deleted?this.deletes(l)&&!this.adds(l)&&((a===null||a.delete===void 0)&&(d(),a={delete:0}),a.delete+=l.length,o.add(l)):this.adds(l)?((a===null||a.insert===void 0)&&(d(),a={insert:[]}),a.insert=a.insert.concat(l.content.getContent()),n.add(l)):((a===null||a.retain===void 0)&&(d(),a={retain:0}),a.retain+=l.length);a!==null&&a.retain===void 0&&d()}this._changes=e}return e}}const yc=(t,e)=>{const i=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)i.unshift(e._item.parentSub);else{let n=0,o=e._item.parent._start;for(;o!==e._item&&o!==null;)o.deleted||n++,o=o.right;i.unshift(n)}e=e._item.parent}return i},lr=80;let yn=0;class kc{constructor(e,i){e.marker=!0,this.p=e,this.index=i,this.timestamp=yn++}}const vc=t=>{t.timestamp=yn++},cr=(t,e,i)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=i,t.timestamp=yn++},Ac=(t,e,i)=>{if(t.length>=lr){const n=t.reduce((o,r)=>o.timestamp<r.timestamp?o:r);return cr(n,e,i),n}else{const n=new kc(e,i);return t.push(n),n}},di=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const i=t._searchMarker.length===0?null:t._searchMarker.reduce((r,s)=>$i(e-r.index)<$i(e-s.index)?r:s);let n=t._start,o=0;for(i!==null&&(n=i.p,o=i.index,vc(i));n.right!==null&&o<e;){if(!n.deleted&&n.countable){if(e<o+n.length)break;o+=n.length}n=n.right}for(;n.left!==null&&o>e;)n=n.left,!n.deleted&&n.countable&&(o-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(o-=n.length);return i!==null&&$i(i.index-o)<n.parent.length/lr?(cr(i,n,o),i):Ac(t._searchMarker,n,o)},mt=(t,e,i)=>{for(let n=t.length-1;n>=0;n--){const o=t[n];if(i>0){let r=o.p;for(r.marker=!1;r&&(r.deleted||!r.countable);)r=r.left,r&&!r.deleted&&r.countable&&(o.index-=r.length);if(r===null||r.marker===!0){t.splice(n,1);continue}o.p=r,r.marker=!0}(e<o.index||i>0&&e===o.index)&&(o.index=Ce(e,o.index+i))}},hi=(t,e,i)=>{const n=t,o=e.changedParentTypes;for(;me(o,t,()=>[]).push(i),t._item!==null;)t=t._item.parent;Jo(n._eH,i,e)};class q{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Yo(),this._dEH=Yo(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,i){this.doc=e,this._item=i}_copy(){throw oe()}clone(){throw oe()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,i){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Qo(this._eH,e)}observeDeep(e){Qo(this._dEH,e)}unobserve(e){Wo(this._eH,e)}unobserveDeep(e){Wo(this._dEH,e)}toJSON(){}}const dr=(t,e,i)=>{e<0&&(e=t._length+e),i<0&&(i=t._length+i);let n=i-e;const o=[];let r=t._start;for(;r!==null&&n>0;){if(r.countable&&!r.deleted){const s=r.content.getContent();if(s.length<=e)e-=s.length;else{for(let a=e;a<s.length&&n>0;a++)o.push(s[a]),n--;e=0}}r=r.right}return o},hr=t=>{const e=[];let i=t._start;for(;i!==null;){if(i.countable&&!i.deleted){const n=i.content.getContent();for(let o=0;o<n.length;o++)e.push(n[o])}i=i.right}return e},ui=(t,e)=>{let i=0,n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const o=n.content.getContent();for(let r=0;r<o.length;r++)e(o[r],i++,t)}n=n.right}},ur=(t,e)=>{const i=[];return ui(t,(n,o)=>{i.push(e(n,o,t))}),i},Dc=t=>{let e=t._start,i=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(i===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};i=e.content.getContent(),n=0,e=e.right}const o=i[n++];return i.length<=n&&(i=null),{done:!1,value:o}}}},fr=(t,e)=>{const i=di(t,e);let n=t._start;for(i!==null&&(n=i.p,e-=i.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},kn=(t,e,i,n)=>{let o=i;const r=t.doc,s=r.clientID,a=r.store,d=i===null?e._start:i.right;let l=[];const c=()=>{l.length>0&&(o=new O(y(s,R(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new Te(l)),o.integrate(t,0),l=[])};n.forEach(f=>{switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(f);break;default:switch(c(),f.constructor){case Uint8Array:case ArrayBuffer:o=new O(y(s,R(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new wt(new Uint8Array(f))),o.integrate(t,0);break;case He:o=new O(y(s,R(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new _t(f)),o.integrate(t,0);break;default:if(f instanceof q)o=new O(y(s,R(a,s)),o,o&&o.lastId,d,d&&d.id,e,null,new Ke(f)),o.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),c()},pr=ti("Length exceeded!"),gr=(t,e,i,n)=>{if(i>e._length)throw pr;if(i===0)return e._searchMarker&&mt(e._searchMarker,i,n.length),kn(t,e,null,n);const o=i,r=di(e,i);let s=e._start;for(r!==null&&(s=r.p,i-=r.index,i===0&&(s=s.prev,i+=s&&s.countable&&!s.deleted?s.length:0));s!==null;s=s.right)if(!s.deleted&&s.countable){if(i<=s.length){i<s.length&&be(t,y(s.id.client,s.id.clock+i));break}i-=s.length}return e._searchMarker&&mt(e._searchMarker,o,n.length),kn(t,e,s,n)},mr=(t,e,i,n)=>{if(n===0)return;const o=i,r=n,s=di(e,i);let a=e._start;for(s!==null&&(a=s.p,i-=s.index);a!==null&&i>0;a=a.right)!a.deleted&&a.countable&&(i<a.length&&be(t,y(a.id.client,a.id.clock+i)),i-=a.length);for(;n>0&&a!==null;)a.deleted||(n<a.length&&be(t,y(a.id.client,a.id.clock+n)),a.delete(t),n-=a.length),a=a.right;if(n>0)throw pr;e._searchMarker&&mt(e._searchMarker,o,-r+n)},fi=(t,e,i)=>{const n=e._map.get(i);n!==void 0&&n.delete(t)},vn=(t,e,i,n)=>{const o=e._map.get(i)||null,r=t.doc,s=r.clientID;let a;if(n==null)a=new Te([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:a=new Te([n]);break;case Uint8Array:a=new wt(n);break;case He:a=new _t(n);break;default:if(n instanceof q)a=new Ke(n);else throw new Error("Unexpected content type")}new O(y(s,R(r.store,s)),o,o&&o.lastId,null,null,e,i,a).integrate(t,0)},An=(t,e)=>{const i=t._map.get(e);return i!==void 0&&!i.deleted?i.content.getContent()[i.length-1]:void 0},br=t=>{const e={};return t._map.forEach((i,n)=>{i.deleted||(e[n]=i.content.getContent()[i.length-1])}),e},wr=(t,e)=>{const i=t._map.get(e);return i!==void 0&&!i.deleted},pi=t=>ql(t.entries(),e=>!e[1].deleted);class Sc extends ci{constructor(e,i){super(e,i);this._transaction=i}}class Ye extends q{constructor(){super();this._prelimContent=[],this._searchMarker=[]}static from(e){const i=new Ye;return i.push(e),i}_integrate(e,i){super._integrate(e,i),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ye}clone(){const e=new Ye;return e.insert(0,this.toArray().map(i=>i instanceof q?i.clone():i)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(e,i){super._callObserver(e,i),hi(this,e,new Sc(this,e))}insert(e,i){this.doc!==null?z(this.doc,n=>{gr(n,this,e,i)}):this._prelimContent.splice(e,0,...i)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}delete(e,i=1){this.doc!==null?z(this.doc,n=>{mr(n,this,e,i)}):this._prelimContent.splice(e,i)}get(e){return fr(this,e)}toArray(){return hr(this)}slice(e=0,i=this.length){return dr(this,e,i)}toJSON(){return this.map(e=>e instanceof q?e.toJSON():e)}map(e){return ur(this,e)}forEach(e){ui(this,e)}[Symbol.iterator](){return Dc(this)}_write(e){e.writeTypeRef(Qc)}}const Ec=t=>new Ye;class Cc extends ci{constructor(e,i,n){super(e,i);this.keysChanged=n}}class Qe extends q{constructor(e){super();this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,i){super._integrate(e,i),this._prelimContent.forEach((n,o)=>{this.set(o,n)}),this._prelimContent=null}_copy(){return new Qe}clone(){const e=new Qe;return this.forEach((i,n)=>{e.set(n,i instanceof q?i.clone():i)}),e}_callObserver(e,i){hi(this,e,new Cc(this,e,i))}toJSON(){const e={};return this._map.forEach((i,n)=>{if(!i.deleted){const o=i.content.getContent()[i.length-1];e[n]=o instanceof q?o.toJSON():o}}),e}get size(){return[...pi(this._map)].length}keys(){return an(pi(this._map),e=>e[0])}values(){return an(pi(this._map),e=>e[1].content.getContent()[e[1].length-1])}entries(){return an(pi(this._map),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){const i={};return this._map.forEach((n,o)=>{n.deleted||e(n.content.getContent()[n.length-1],o,this)}),i}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?z(this.doc,i=>{fi(i,this,e)}):this._prelimContent.delete(e)}set(e,i){return this.doc!==null?z(this.doc,n=>{vn(n,this,e,i)}):this._prelimContent.set(e,i),i}get(e){return An(this,e)}has(e){return wr(this,e)}clear(){this.doc!==null?z(this.doc,e=>{this.forEach(function(i,n,o){fi(e,o,n)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Wc)}}const Mc=t=>new Qe,xe=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&Tl(t,e);class Dn{constructor(e,i,n,o){this.left=e,this.right=i,this.index=n,this.currentAttributes=o}forward(){switch(this.right===null&&X(),this.right.content.constructor){case V:case $:this.right.deleted||(this.index+=this.right.length);break;case j:this.right.deleted||We(this.currentAttributes,this.right.content);break}this.left=this.right,this.right=this.right.right}}const xr=(t,e,i)=>{for(;e.right!==null&&i>0;){switch(e.right.content.constructor){case V:case $:e.right.deleted||(i<e.right.length&&be(t,y(e.right.id.client,e.right.id.clock+i)),e.index+=e.right.length,i-=e.right.length);break;case j:e.right.deleted||We(e.currentAttributes,e.right.content);break}e.left=e.right,e.right=e.right.right}return e},gi=(t,e,i)=>{const n=new Map,o=di(e,i);if(o){const r=new Dn(o.p.left,o.p,o.index,n);return xr(t,r,i-o.index)}else{const r=new Dn(null,e._start,0,n);return xr(t,r,i)}},_r=(t,e,i,n)=>{for(;i.right!==null&&(i.right.deleted===!0||i.right.content.constructor===j&&xe(n.get(i.right.content.key),i.right.content.value));)i.right.deleted||n.delete(i.right.content.key),i.forward();const o=t.doc,r=o.clientID;n.forEach((s,a)=>{const d=i.left,l=i.right,c=new O(y(r,R(o.store,r)),d,d&&d.lastId,l,l&&l.id,e,null,new j(a,s));c.integrate(t,0),i.right=c,i.forward()})},We=(t,e)=>{const{key:i,value:n}=e;n===null?t.delete(i):t.set(i,n)},yr=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===j&&xe(e[t.right.content.key]||null,t.right.content.value)))break;t.forward()}},kr=(t,e,i,n)=>{const o=t.doc,r=o.clientID,s=new Map;for(const a in n){const d=n[a],l=i.currentAttributes.get(a)||null;if(!xe(l,d)){s.set(a,l);const{left:c,right:f}=i;i.right=new O(y(r,R(o.store,r)),c,c&&c.lastId,f,f&&f.id,e,null,new j(a,d)),i.right.integrate(t,0),i.forward()}}return s},Sn=(t,e,i,n,o)=>{i.currentAttributes.forEach((u,h)=>{o[h]===void 0&&(o[h]=null)});const r=t.doc,s=r.clientID;yr(i,o);const a=kr(t,e,i,o),d=n.constructor===String?new $(n):new V(n);let{left:l,right:c,index:f}=i;e._searchMarker&&mt(e._searchMarker,i.index,d.getLength()),c=new O(y(s,R(r.store,s)),l,l&&l.lastId,c,c&&c.id,e,null,d),c.integrate(t,0),i.right=c,i.index=f,i.forward(),_r(t,e,i,a)},vr=(t,e,i,n,o)=>{const r=t.doc,s=r.clientID;yr(i,o);const a=kr(t,e,i,o);for(;n>0&&i.right!==null;){if(!i.right.deleted)switch(i.right.content.constructor){case j:{const{key:d,value:l}=i.right.content,c=o[d];c!==void 0&&(xe(c,l)?a.delete(d):a.set(d,l),i.right.delete(t));break}case V:case $:n<i.right.length&&be(t,y(i.right.id.client,i.right.id.clock+n)),n-=i.right.length;break}i.forward()}if(n>0){let d="";for(;n>0;n--)d+=`
`;i.right=new O(y(s,R(r.store,s)),i.left,i.left&&i.left.lastId,i.right,i.right&&i.right.id,e,null,new $(d)),i.right.integrate(t,0),i.forward()}_r(t,e,i,a)},Ar=(t,e,i,n,o)=>{for(;i&&i.content.constructor!==$&&i.content.constructor!==V;)!i.deleted&&i.content.constructor===j&&We(o,i.content),i=i.right;let r=0;for(;e!==i;){if(!e.deleted){const s=e.content;switch(s.constructor){case j:{const{key:a,value:d}=s;((o.get(a)||null)!==d||(n.get(a)||null)===d)&&(e.delete(t),r++);break}}}e=e.right}return r},Ic=(t,e)=>{for(;e&&e.right&&(e.right.deleted||e.right.content.constructor!==$&&e.right.content.constructor!==V);)e=e.right;const i=new Set;for(;e&&(e.deleted||e.content.constructor!==$&&e.content.constructor!==V);){if(!e.deleted&&e.content.constructor===j){const n=e.content.key;i.has(n)?e.delete(t):i.add(n)}e=e.left}},Nc=t=>{let e=0;return z(t.doc,i=>{let n=t._start,o=t._start,r=te();const s=Gt(r);for(;o;){if(o.deleted===!1)switch(o.content.constructor){case j:We(s,o.content);break;case V:case $:e+=Ar(i,n,o,r,s),r=Gt(s),n=o;break}o=o.right}}),e},Dr=(t,e,i)=>{const n=i,o=Gt(e.currentAttributes),r=e.right;for(;i>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case V:case $:i<e.right.length&&be(t,y(e.right.id.client,e.right.id.clock+i)),i-=e.right.length,e.right.delete(t);break}e.forward()}r&&Ar(t,r,e.right,o,Gt(e.currentAttributes));const s=(e.left||e.right).parent;return s._searchMarker&&mt(s._searchMarker,e.index,-n+i),e};class zc extends ci{constructor(e,i,n){super(e,i);this.childListChanged=!1,this.keysChanged=new Set,n.forEach(o=>{o===null?this.childListChanged=!0:this.keysChanged.add(o)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,i=[];z(e,n=>{const o=new Map,r=new Map;let s=this.target._start,a=null;const d={};let l="",c=0,f=0;const u=()=>{if(a!==null){let h;switch(a){case"delete":h={delete:f},f=0;break;case"insert":h={insert:l},o.size>0&&(h.attributes={},o.forEach((p,m)=>{p!==null&&(h.attributes[m]=p)})),l="";break;case"retain":if(h={retain:c},Object.keys(d).length>0){h.attributes={};for(const p in d)h.attributes[p]=d[p]}c=0;break}i.push(h),a=null}};for(;s!==null;){switch(s.content.constructor){case V:this.adds(s)?this.deletes(s)||(u(),a="insert",l=s.content.embed,u()):this.deletes(s)?(a!=="delete"&&(u(),a="delete"),f+=1):s.deleted||(a!=="retain"&&(u(),a="retain"),c+=1);break;case $:this.adds(s)?this.deletes(s)||(a!=="insert"&&(u(),a="insert"),l+=s.content.str):this.deletes(s)?(a!=="delete"&&(u(),a="delete"),f+=s.length):s.deleted||(a!=="retain"&&(u(),a="retain"),c+=s.length);break;case j:{const{key:h,value:p}=s.content;if(this.adds(s)){if(!this.deletes(s)){const m=o.get(h)||null;xe(m,p)?s.delete(n):(a==="retain"&&u(),xe(p,r.get(h)||null)?delete d[h]:d[h]=p)}}else if(this.deletes(s)){r.set(h,p);const m=o.get(h)||null;xe(m,p)||(a==="retain"&&u(),d[h]=m)}else if(!s.deleted){r.set(h,p);const m=d[h];m!==void 0&&(xe(m,p)?s.delete(n):(a==="retain"&&u(),p===null?d[h]=p:delete d[h]))}s.deleted||(a==="insert"&&u(),We(o,s.content));break}}s=s.right}for(u();i.length>0;){const h=i[i.length-1];if(h.retain!==void 0&&h.attributes===void 0)i.pop();else break}}),this._delta=i}return this._delta}}class Je extends q{constructor(e){super();this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(e,i){super._integrate(e,i);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new Je}clone(){const e=new Je;return e.applyDelta(this.toDelta()),e}_callObserver(e,i){super._callObserver(e,i);const n=new zc(this,e,i),o=e.doc;if(hi(this,e,n),!e.local){let r=!1;for(const[s,a]of e.afterState.entries()){const d=e.beforeState.get(s)||0;if(a!==d&&(nr(e,o.store.clients.get(s),d,a,l=>{!l.deleted&&l.content.constructor===j&&(r=!0)}),r))break}r||cn(e,e.deleteSet,s=>{s instanceof Q||r||s.parent===this&&s.content.constructor===j&&(r=!0)}),z(o,s=>{r?Nc(this):cn(s,s.deleteSet,a=>{a instanceof Q||a.parent===this&&Ic(s,a)})})}}toString(){let e="",i=this._start;for(;i!==null;)!i.deleted&&i.countable&&i.content.constructor===$&&(e+=i.content.str),i=i.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:i=!0}={}){this.doc!==null?z(this.doc,n=>{const o=new Dn(null,this._start,0,new Map);for(let r=0;r<e.length;r++){const s=e[r];if(s.insert!==void 0){const a=!i&&typeof s.insert=="string"&&r===e.length-1&&o.right===null&&s.insert.slice(-1)===`
`?s.insert.slice(0,-1):s.insert;(typeof a!="string"||a.length>0)&&Sn(n,this,o,a,s.attributes||{})}else s.retain!==void 0?vr(n,this,o,s.retain,s.attributes||{}):s.delete!==void 0&&Dr(n,o,s.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,i,n){const o=[],r=new Map,s=this.doc;let a="",d=this._start;function l(){if(a.length>0){const c={};let f=!1;r.forEach((h,p)=>{f=!0,c[p]=h});const u={insert:a};f&&(u.attributes=c),o.push(u),a=""}}return z(s,c=>{for(e&&ri(c,e),i&&ri(c,i);d!==null;){if(gt(d,e)||i!==void 0&&gt(d,i))switch(d.content.constructor){case $:{const f=r.get("ychange");e!==void 0&&!gt(d,e)?(f===void 0||f.user!==d.id.client||f.state!=="removed")&&(l(),r.set("ychange",n?n("removed",d.id):{type:"removed"})):i!==void 0&&!gt(d,i)?(f===void 0||f.user!==d.id.client||f.state!=="added")&&(l(),r.set("ychange",n?n("added",d.id):{type:"added"})):f!==void 0&&(l(),r.delete("ychange")),a+=d.content.str;break}case V:{l();const f={insert:d.content.embed};if(r.size>0){const u={};f.attributes=u,r.forEach((h,p)=>{u[p]=h})}o.push(f);break}case j:gt(d,e)&&(l(),We(r,d.content));break}d=d.right}l()},ri),o}insert(e,i,n){if(i.length<=0)return;const o=this.doc;o!==null?z(o,r=>{const s=gi(r,this,e);n||(n={},s.currentAttributes.forEach((a,d)=>{n[d]=a})),Sn(r,this,s,i,n)}):this._pending.push(()=>this.insert(e,i,n))}insertEmbed(e,i,n={}){if(i.constructor!==Object)throw new Error("Embed must be an Object");const o=this.doc;o!==null?z(o,r=>{const s=gi(r,this,e);Sn(r,this,s,i,n)}):this._pending.push(()=>this.insertEmbed(e,i,n))}delete(e,i){if(i===0)return;const n=this.doc;n!==null?z(n,o=>{Dr(o,gi(o,this,e),i)}):this._pending.push(()=>this.delete(e,i))}format(e,i,n){if(i===0)return;const o=this.doc;o!==null?z(o,r=>{const s=gi(r,this,e);s.right!==null&&vr(r,this,s,i,n)}):this._pending.push(()=>this.format(e,i,n))}removeAttribute(e){this.doc!==null?z(this.doc,i=>{fi(i,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,i){this.doc!==null?z(this.doc,n=>{vn(n,this,e,i)}):this._pending.push(()=>this.setAttribute(e,i))}getAttribute(e){return An(this,e)}getAttributes(e){return br(this)}_write(e){e.writeTypeRef(Jc)}}const Tc=t=>new Je;class En{constructor(e,i=()=>!0){this._filter=i,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,i=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(i)))do if(i=e.content.type,!e.deleted&&(i.constructor===bt||i.constructor===ze)&&i._start!==null)e=i._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class ze extends q{constructor(){super();this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,i){super._integrate(e,i),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ze}clone(){const e=new ze;return e.insert(0,this.toArray().map(i=>i instanceof q?i.clone():i)),e}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new En(this,e)}querySelector(e){e=e.toUpperCase();const n=new En(this,o=>o.nodeName&&o.nodeName.toUpperCase()===e).next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),Array.from(new En(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e))}_callObserver(e,i){hi(this,e,new Lc(this,i,e))}toString(){return ur(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,i={},n){const o=e.createDocumentFragment();return n!==void 0&&n._createAssociation(o,this),ui(this,r=>{o.insertBefore(r.toDOM(e,i,n),null)}),o}insert(e,i){this.doc!==null?z(this.doc,n=>{gr(n,this,e,i)}):this._prelimContent.splice(e,0,...i)}insertAfter(e,i){if(this.doc!==null)z(this.doc,n=>{const o=e&&e instanceof q?e._item:e;kn(n,this,o,i)});else{const n=this._prelimContent,o=e===null?0:n.findIndex(r=>r===e)+1;if(o===0&&e!==null)throw ti("Reference item not found");n.splice(o,0,...i)}}delete(e,i=1){this.doc!==null?z(this.doc,n=>{mr(n,this,e,i)}):this._prelimContent.splice(e,i)}toArray(){return hr(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return fr(this,e)}slice(e=0,i=this.length){return dr(this,e,i)}_write(e){e.writeTypeRef(Xc)}}const Oc=t=>new ze;class bt extends ze{constructor(e="UNDEFINED"){super();this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,i){super._integrate(e,i),this._prelimAttrs.forEach((n,o)=>{this.setAttribute(o,n)}),this._prelimAttrs=null}_copy(){return new bt(this.nodeName)}clone(){const e=new bt(this.nodeName),i=this.getAttributes();for(const n in i)e.setAttribute(n,i[n]);return e.insert(0,this.toArray().map(n=>n instanceof q?n.clone():n)),e}toString(){const e=this.getAttributes(),i=[],n=[];for(const a in e)n.push(a);n.sort();const o=n.length;for(let a=0;a<o;a++){const d=n[a];i.push(d+'="'+e[d]+'"')}const r=this.nodeName.toLocaleLowerCase(),s=i.length>0?" "+i.join(" "):"";return`<${r}${s}>${super.toString()}</${r}>`}removeAttribute(e){this.doc!==null?z(this.doc,i=>{fi(i,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,i){this.doc!==null?z(this.doc,n=>{vn(n,this,e,i)}):this._prelimAttrs.set(e,i)}getAttribute(e){return An(this,e)}hasAttribute(e){return wr(this,e)}getAttributes(e){return br(this)}toDOM(e=document,i={},n){const o=e.createElement(this.nodeName),r=this.getAttributes();for(const s in r)o.setAttribute(s,r[s]);return ui(this,s=>{o.appendChild(s.toDOM(e,i,n))}),n!==void 0&&n._createAssociation(o,this),o}_write(e){e.writeTypeRef(Kc),e.writeKey(this.nodeName)}}const Rc=t=>new bt(t.readKey());class Lc extends ci{constructor(e,i,n){super(e,n);this.childListChanged=!1,this.attributesChanged=new Set,i.forEach(o=>{o===null?this.childListChanged=!0:this.attributesChanged.add(o)})}}class mi extends Qe{constructor(e){super();this.hookName=e}_copy(){return new mi(this.hookName)}clone(){const e=new mi(this.hookName);return this.forEach((i,n)=>{e.set(n,i)}),e}toDOM(e=document,i={},n){const o=i[this.hookName];let r;return o!==void 0?r=o.createDom(this):r=document.createElement(this.hookName),r.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(ed),e.writeKey(this.hookName)}}const Uc=t=>new mi(t.readKey());class bi extends Je{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new bi}clone(){const e=new bi;return e.applyDelta(this.toDelta()),e}toDOM(e=document,i,n){const o=e.createTextNode(this.toString());return n!==void 0&&n._createAssociation(o,this),o}toString(){return this.toDelta().map(e=>{const i=[];for(const o in e.attributes){const r=[];for(const s in e.attributes[o])r.push({key:s,value:e.attributes[o][s]});r.sort((s,a)=>s.key<a.key?-1:1),i.push({nodeName:o,attrs:r})}i.sort((o,r)=>o.nodeName<r.nodeName?-1:1);let n="";for(let o=0;o<i.length;o++){const r=i[o];n+=`<${r.nodeName}`;for(let s=0;s<r.attrs.length;s++){const a=r.attrs[s];n+=` ${a.key}="${a.value}"`}n+=">"}n+=e.insert;for(let o=i.length-1;o>=0;o--)n+=`</${i[o].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(td)}}const jc=t=>new bi;class Cn{constructor(e,i){this.id=e,this.length=i}get deleted(){throw oe()}mergeWith(e){return!1}write(e,i,n){throw oe()}integrate(e,i){throw oe()}}const Zc=0;class Q extends Cn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,i){i>0&&(this.id.clock+=i,this.length-=i),tr(e.doc.store,this)}write(e,i){e.writeInfo(Zc),e.writeLen(this.length-i)}getMissing(e,i){return null}}class wt{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new wt(this.content)}splice(e){throw oe()}mergeWith(e){return!1}integrate(e,i){}delete(e){}gc(e){}write(e,i){e.writeBuf(this.content)}getRef(){return 3}}const Fc=t=>new wt(t.readBuf());class xt{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new xt(this.len)}splice(e){const i=new xt(this.len-e);return this.len=e,i}mergeWith(e){return this.len+=e.len,!0}integrate(e,i){ii(e.deleteSet,i.id.client,i.id.clock,this.len),i.markDeleted()}delete(e){}gc(e){}write(e,i){e.writeLen(this.len-i)}getRef(){return 1}}const $c=t=>new xt(t.readLen());class _t{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const i={};this.opts=i,e.gc||(i.gc=!1),e.autoLoad&&(i.autoLoad=!0),e.meta!==null&&(i.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new _t(this.doc)}splice(e){throw oe()}mergeWith(e){return!1}integrate(e,i){this.doc._item=i,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,i){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const Bc=t=>new _t(new He(Zi({guid:t.readString()},t.readAny())));class V{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new V(this.embed)}splice(e){throw oe()}mergeWith(e){return!1}integrate(e,i){}delete(e){}gc(e){}write(e,i){e.writeJSON(this.embed)}getRef(){return 5}}const qc=t=>new V(t.readJSON());class j{constructor(e,i){this.key=e,this.value=i}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new j(this.key,this.value)}splice(e){throw oe()}mergeWith(e){return!1}integrate(e,i){i.parent._searchMarker=null}delete(e){}gc(e){}write(e,i){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Vc=t=>new j(t.readString(),t.readJSON());class wi{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new wi(this.arr)}splice(e){const i=new wi(this.arr.slice(e));return this.arr=this.arr.slice(0,e),i}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,i){}delete(e){}gc(e){}write(e,i){const n=this.arr.length;e.writeLen(n-i);for(let o=i;o<n;o++){const r=this.arr[o];e.writeString(r===void 0?"undefined":JSON.stringify(r))}}getRef(){return 2}}const Hc=t=>{const e=t.readLen(),i=[];for(let n=0;n<e;n++){const o=t.readString();o==="undefined"?i.push(void 0):i.push(JSON.parse(o))}return new wi(i)};class Te{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Te(this.arr)}splice(e){const i=new Te(this.arr.slice(e));return this.arr=this.arr.slice(0,e),i}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,i){}delete(e){}gc(e){}write(e,i){const n=this.arr.length;e.writeLen(n-i);for(let o=i;o<n;o++){const r=this.arr[o];e.writeAny(r)}}getRef(){return 8}}const Pc=t=>{const e=t.readLen(),i=[];for(let n=0;n<e;n++)i.push(t.readAny());return new Te(i)};class ${constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new $(this.str)}splice(e){const i=new $(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"\uFFFD",i.str="\uFFFD"+i.str.slice(1)),i}mergeWith(e){return this.str+=e.str,!0}integrate(e,i){}delete(e){}gc(e){}write(e,i){e.writeString(i===0?this.str:this.str.slice(i))}getRef(){return 4}}const Gc=t=>new $(t.readString()),Yc=[Ec,Mc,Tc,Rc,Oc,Uc,jc],Qc=0,Wc=1,Jc=2,Kc=3,Xc=4,ed=5,td=6;class Ke{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Ke(this.type._copy())}splice(e){throw oe()}mergeWith(e){return!1}integrate(e,i){this.type._integrate(e.doc,i)}delete(e){let i=this.type._start;for(;i!==null;)i.deleted?e._mergeStructs.push(i):i.delete(e),i=i.right;this.type._map.forEach(n=>{n.deleted?e._mergeStructs.push(n):n.delete(e)}),e.changed.delete(this.type)}gc(e){let i=this.type._start;for(;i!==null;)i.gc(e,!0),i=i.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(e,!0),n=n.left}),this.type._map=new Map}write(e,i){this.type._write(e)}getRef(){return 7}}const id=t=>new Ke(Yc[t.readTypeRef()](t)),Sr=(t,e)=>{let i=e,n=0,o;do n>0&&(i=y(i.client,i.clock+n)),o=si(t,i),n=i.clock-o.id.clock,i=o.redone;while(i!==null&&o instanceof O);return{item:o,diff:n}};const xi=(t,e,i)=>{const{client:n,clock:o}=e.id,r=new O(y(n,o+i),e,y(n,o+i-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(i));return e.deleted&&r.markDeleted(),e.keep&&(r.keep=!0),e.redone!==null&&(r.redone=y(e.redone.client,e.redone.clock+i)),e.right=r,r.right!==null&&(r.right.left=r),t._mergeStructs.push(r),r.parentSub!==null&&r.right===null&&r.parent._map.set(r.parentSub,r),e.length=i,r};class O extends Cn{constructor(e,i,n,o,r,s,a,d){super(e,d.getLength());this.origin=n,this.left=i,this.right=o,this.rightOrigin=r,this.parent=s,this.parentSub=a,this.redone=null,this.content=d,this.info=this.content.isCountable()?Ao:0}set marker(e){(this.info&Hi)>0!==e&&(this.info^=Hi)}get marker(){return(this.info&Hi)>0}get keep(){return(this.info&vo)>0}set keep(e){this.keep!==e&&(this.info^=vo)}get countable(){return(this.info&Ao)>0}get deleted(){return(this.info&Vi)>0}set deleted(e){this.deleted!==e&&(this.info^=Vi)}markDeleted(){this.info|=Vi}getMissing(e,i){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=R(i,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=R(i,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Ge&&this.id.client!==this.parent.client&&this.parent.clock>=R(i,this.parent.client))return this.parent.client;if(this.origin&&(this.left=ir(e,i,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=be(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===Q||this.right&&this.right.constructor===Q)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===O&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===O&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Ge){const n=si(i,this.parent);n.constructor===Q?this.parent=null:this.parent=n.content.type}return null}integrate(e,i){if(i>0&&(this.id.clock+=i,this.left=ir(e,e.doc.store,y(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(i),this.length-=i),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,o;if(n!==null)o=n.right;else if(this.parentSub!==null)for(o=this.parent._map.get(this.parentSub)||null;o!==null&&o.left!==null;)o=o.left;else o=this.parent._start;const r=new Set,s=new Set;for(;o!==null&&o!==this.right;){if(s.add(o),r.add(o),ni(this.origin,o.origin)){if(o.id.client<this.id.client)n=o,r.clear();else if(ni(this.rightOrigin,o.rightOrigin))break}else if(o.origin!==null&&s.has(si(e.doc.store,o.origin)))r.has(si(e.doc.store,o.origin))||(n=o,r.clear());else break;o=o.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),tr(e.doc.store,this),this.content.integrate(e,this),rr(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Q(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:y(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&ni(e.origin,this.lastId)&&this.right===e&&ni(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const i=this.parent._searchMarker;return i&&i.forEach(n=>{n.p===e&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const i=this.parent;this.countable&&this.parentSub===null&&(i._length-=this.length),this.markDeleted(),ii(e.deleteSet,this.id.client,this.id.clock,this.length),rr(e,i,this.parentSub),this.content.delete(e)}}gc(e,i){if(!this.deleted)throw X();this.content.gc(e),i?hc(e,this,new Q(this.id,this.length)):this.content=new xt(this.length)}write(e,i){const n=i>0?y(this.id.client,this.id.clock+i-1):this.origin,o=this.rightOrigin,r=this.parentSub,s=this.content.getRef()&Qt|(n===null?0:P)|(o===null?0:ce)|(r===null?0:ct);if(e.writeInfo(s),n!==null&&e.writeLeftID(n),o!==null&&e.writeRightID(o),n===null&&o===null){const a=this.parent;if(a._item!==void 0){const d=a._item;if(d===null){const l=Ko(a);e.writeParentInfo(!0),e.writeString(l)}else e.writeParentInfo(!1),e.writeLeftID(d.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===Ge?(e.writeParentInfo(!1),e.writeLeftID(a)):X();r!==null&&e.writeString(r)}this.content.write(e,i)}}const Er=(t,e)=>nd[e&Qt](t),nd=[()=>{X()},$c,Hc,Fc,Gc,qc,Vc,id,Pc,Bc,()=>{X()}],od=10;class W extends Cn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,i){X()}write(e,i){e.writeInfo(od),S(e.restEncoder,this.length-i)}getMissing(e,i){return null}}const rd=typeof atob=="function",sd=typeof btoa=="function",_i=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",yt=Array.prototype.slice.call(ad),yi=(t=>{let e={};return t.forEach((i,n)=>e[i]=n),e})(yt),ld=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ki=String.fromCharCode.bind(String),Cr=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=i=>i)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),cd=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),Mr=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),dd=t=>{let e,i,n,o,r="";const s=t.length%3;for(let a=0;a<t.length;){if((i=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(o=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=i<<16|n<<8|o,r+=yt[e>>18&63]+yt[e>>12&63]+yt[e>>6&63]+yt[e&63]}return s?r.slice(0,s-3)+"===".substring(s):r},hd=sd?t=>btoa(t):_i?t=>Buffer.from(t,"binary").toString("base64"):dd,Ir=_i?t=>Buffer.from(t).toString("base64"):t=>{const e=4096;let i=[];for(let n=0,o=t.length;n<o;n+=e)i.push(ki.apply(null,t.subarray(n,n+e)));return hd(i.join(""))},Nr=(t,e=!1)=>e?cd(Ir(t)):Ir(t),ud=t=>{if(t=t.replace(/\s+/g,""),!ld.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,i="",n,o;for(let r=0;r<t.length;)e=yi[t.charAt(r++)]<<18|yi[t.charAt(r++)]<<12|(n=yi[t.charAt(r++)])<<6|(o=yi[t.charAt(r++)]),i+=n===64?ki(e>>16&255):o===64?ki(e>>16&255,e>>8&255):ki(e>>16&255,e>>8&255,e&255);return i},fd=rd?t=>atob(Mr(t)):_i?t=>Buffer.from(t,"base64").toString("binary"):ud,pd=_i?t=>Cr(Buffer.from(t,"base64")):t=>Cr(fd(t),e=>e.charCodeAt(0)),zr=t=>pd(gd(t)),gd=t=>Mr(t.replace(/[-_]/g,e=>e=="-"?"+":"/"));class md{constructor(e,i,n,o){this.context=e,this.attrs=i,this.doc=n,this.yText=o,this.isDocDestroyed=!1,this.sideEffect=new qt,this.textAttr=i.text,this.textAttr&&Po(this.doc,zr(this.textAttr),this),this.sideEffect.add(()=>e.mobxUtils.autorun(()=>{this.textAttr=i.text})),this.setupYDocPersistence()}destroy(){this.sideEffect.flushAll()}setupYDocPersistence(){const e=()=>{this.sideEffect.setTimeout(()=>{const i=Nr(nc(this.doc));i!==this.textAttr&&this.context.updateAttributes(["text"],i)},1e3,"setAttrs")};this.sideEffect.add(()=>{const i=()=>{this.isDocDestroyed=!0};return this.doc.on("destroy",i),()=>this.doc.off("destroy",i)}),this.sideEffect.add(()=>{const i=(n,o)=>{!this.isDocDestroyed&&o!=="_remote_edit_"&&e()};return this.doc.on("update",i),()=>this.doc.off("update",i)})}}const bd=()=>{let t=!0;return(e,i)=>{if(t){t=!1;try{e()}finally{t=!0}}else i!==void 0&&i()}};class wd{constructor(){this.style=document.createElement("style"),document.body.appendChild(this.style)}addRule(e){try{const i=this.style.sheet;if(i){const n=i.insertRule(e);return i.cssRules.item(n)}}catch{return null}return null}deleteRule(e){try{const i=this.style.sheet;if(i){for(let n=0;n<i.cssRules.length;n++)if(e===i.cssRules.item(n)){i.deleteRule(n);break}}}catch{return}}destroy(){this.style.remove()}}class xd{constructor(e,i,n,o,r,s,a,d,l){this.doc=e,this.monaco=i,this.monacoEditor=n,this.monacoModel=o,this.userID=r,this.userName=s,this.decorationID=a,this.cursorColor=d,this.styleManager=l,this.labelVisible=!1,this.hideLabelTimeout=NaN,this.cursorVisible=!1,this.hideCursorTimeout=NaN,this.lastLineNumber=-1,this.lastColumn=-1,this.cursorClassName=`netless-app-monaco-cursor-${this.decorationID}`}renderCursor(e,i){if(this.monacoModel.isDisposed())return;const n=e!==this.rawCursorSrc;if(n&&(this.rawCursorSrc=e,this.cursor=void 0,e))try{this.cursor=JSON.parse(e)}catch(o){console.warn(o)}if(this.cursor)try{const o=gn(fn(this.cursor),this.doc);if(o){const r=this.monacoModel.getPositionAt(o.index);let s=`netless-app-monaco-cursor ${this.cursorClassName}`;return r.lineNumber<=1&&(s+=" netless-app-monaco-cursor-first-line"),this.monacoEditor.getLayoutInfo().width-this.monacoEditor.getOffsetForColumn(r.lineNumber,r.column)<200&&(s+=" netless-app-monaco-cursor-right"),(n||i===this.userID&&(r.lineNumber!==this.lastLineNumber||r.column!==this.lastColumn))&&(this.setCursorVisible(!0),this.setLabelVisible(!0),this.lastLineNumber=r.lineNumber,this.lastColumn=r.column),{range:new this.monaco.Range(r.lineNumber,r.column,r.lineNumber,r.column+1),options:{className:s,hoverMessage:{value:this.userName}}}}}catch(o){console.warn(o)}this.clearCursor()}setLabelVisible(e){window.clearTimeout(this.hideLabelTimeout),e?this.styleRule&&(this.labelVisible||(this.styleRule.style.setProperty("--label","block"),this.styleRule.style.setProperty("--dot","none"),this.labelVisible=!0),this.hideLabelTimeout=setTimeout(()=>this.setLabelVisible(!1),3e3)):this.styleRule&&this.labelVisible&&(this.styleRule.style.setProperty("--label","none"),this.styleRule.style.setProperty("--dot","block"),this.labelVisible=!1)}setCursorVisible(e){window.clearTimeout(this.hideCursorTimeout),e?this.styleRule&&(this.cursorVisible||(this.styleRule.style.setProperty("display","block"),this.cursorVisible=!0),this.hideCursorTimeout=setTimeout(()=>this.setCursorVisible(!1),8e3)):this.styleRule&&this.cursorVisible&&(this.styleRule.style.setProperty("display","none"),this.cursorVisible=!1)}clearCursor(){window.clearTimeout(this.hideCursorTimeout),window.clearTimeout(this.hideLabelTimeout)}destroy(){this.clearCursor(),this._styleRuleMemo&&this.styleManager.deleteRule(this._styleRuleMemo)}get styleRule(){return this._styleRuleMemo||(this._styleRuleMemo=this.styleManager.addRule(`.${this.cursorClassName} { --content: "${this.userName}"; --bg-color: ${this.cursorColor}; }`)),this._styleRuleMemo}}const Tr=class{constructor(t,e,i,n,o,r,s,a){this.doc=t,this.monaco=e,this.monacoEditor=i,this.monacoModel=n,this.userID=o,this.userName=r,this.cursorColor=s,this.styleManager=a,this.cursorDecorations=[]}setCursors(t){this.rawCursorStrList=t}renderCursors(t){const e=this.rawCursorStrList||[],i=[];let n=0;for(;n<e.length;n++){this.cursorDecorations[n]||(this.cursorDecorations[n]=new xd(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.userName,this.genDecorationID(),this.cursorColor,this.styleManager));const o=this.cursorDecorations[n].renderCursor(e[n],t);o&&i.push(o)}if(n<this.cursorDecorations.length){for(let o=n;o<this.cursorDecorations.length;o++)this.cursorDecorations[o]&&this.cursorDecorations[o].clearCursor();this.cursorDecorations.length=n}return i}destroy(){this.cursorDecorations.forEach(t=>{t.destroy()}),this.cursorDecorations.length=0}genDecorationID(){return Tr._decorationID++}};let Or=Tr;Or._decorationID=0;class _d{constructor(e,i,n,o,r,s,a){this.doc=e,this.monaco=i,this.monacoEditor=n,this.monacoModel=o,this.useID=r,this.selectionColor=s,this.styleManager=a,this.selectionDecorations=[],this.selectionClassName=`netless-app-monaco-selection-${this.useID}`,this.styleRule=this.styleManager.addRule(`.${this.selectionClassName} { background: ${s}; }`)}setSelections(e){if(e!==this.rawSelectionsStr&&(this.rawSelectionsStr=e,this.selections=void 0,this.rawSelectionsStr))try{const i=JSON.parse(this.rawSelectionsStr);Array.isArray(i)&&(this.selections=i)}catch(i){console.warn(i)}}renderSelections(){const e=[];return this.selections&&!this.monacoModel.isDisposed()&&this.selections.forEach(i=>{if(i.start&&i.end){const n=gn(fn(i.start),this.doc),o=gn(fn(i.end),this.doc);if(n&&o){const r=this.monacoModel.getPositionAt(n.index),s=this.monacoModel.getPositionAt(o.index);e.push({range:new this.monaco.Range(r.lineNumber,r.column,s.lineNumber,s.column),options:{zIndex:-1,className:`netless-app-monaco-selection ${this.selectionClassName}`}})}}}),e}destroy(){this.styleRule&&this.styleManager.deleteRule(this.styleRule)}}class yd{constructor(e,i,n,o,r,s){this.doc=e,this.monaco=i,this.monacoEditor=n,this.monacoModel=o,this.userID=r,this.userName=s,this.styleManager=new wd,this.cursorColor=no({luminosity:"dark"}),this.selectionColor=no({hue:this.cursorColor,luminosity:"light"}),this.selectionDecorations=new _d(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.selectionColor,this.styleManager),this.cursorDecorations=new Or(this.doc,this.monaco,this.monacoEditor,this.monacoModel,this.userID,this.userName,this.cursorColor,this.styleManager)}setCursor(e){this.cursorDecorations.setCursors(e)}setSelection(e){this.selectionDecorations.setSelections(e)}rerender(e=this.userID){return[...this.cursorDecorations.renderCursors(e),...this.selectionDecorations.renderSelections()]}destroy(){this.cursorDecorations.destroy(),this.selectionDecorations.destroy(),this.styleManager.destroy()}}class kd{constructor(e,i,n,o,r,s,a,d){this.context=e,this.attrs=i,this.box=n,this.monaco=o,this.monacoEditor=r,this.doc=s,this.yText=a,this.readonly=d,this.decorations=new Map,this.mux=bd(),this.deltaDecorations=[],this.cursorPositions=[];const l=r.getModel();if(this.authorId=String(this.context.getDisplayer().observerId),this.MagixMonacoDocChannel=this.context.appId+"AppMonacoDoc",!l)throw new Error("[NetlessAppMonaco] No Monaco Model");this.monacoModel=l,this.sideEffect=new qt,this.observerId=String(e.getDisplayer().observerId),this.setupDecorations(),this.setupAttrsUpdate(),this.setupDocUpdate(),this.setupYText(),this.setupMembers()}setReadonly(e){e!==this.readonly&&(this.readonly=e,e||(this.broadcastCursors(),this.broadcastSelections()))}clearDecorationAttrs(){this.context.updateAttributes(["cursors",this.observerId],void 0),this.context.updateAttributes(["selections",this.observerId],void 0)}destroy(){this.sideEffect.flushAll(),this.decorations.forEach(e=>e.destroy()),this.decorations.clear(),this.clearDecorationAttrs()}setupYText(){this.sideEffect.add(()=>{const e=i=>{this.mux(()=>{if(this.monacoModel.isDisposed())return;let n=0;i.delta.forEach(o=>{if(o.retain!=null)n+=o.retain;else if(o.insert!=null){const r=this.monacoModel.getPositionAt(n),s=new this.monaco.Selection(r.lineNumber,r.column,r.lineNumber,r.column);this.monacoModel.applyEdits([{range:s,text:String(o.insert),forceMoveMarkers:!0}]),n+=o.insert.length}else if(o.delete!=null){const r=this.monacoModel.getPositionAt(n),s=this.monacoModel.getPositionAt(n+o.delete),a=new this.monaco.Selection(r.lineNumber,r.column,s.lineNumber,s.column);this.monacoModel.applyEdits([{range:a,text:""}])}else console.error("Unexpected yText Observer")})})};return this.yText.observe(e),()=>this.yText.unobserve(e)}),this.monacoModel.setValue(this.yText.toString()),this.sideEffect.add(()=>{const e=this.monacoModel.onDidChangeContent(i=>{this.mux(()=>{this.doc.transact(()=>{i.changes.sort((n,o)=>o.rangeOffset-n.rangeOffset).forEach(n=>{this.yText.delete(n.rangeOffset,n.rangeLength),this.yText.insert(n.rangeOffset,n.text)})},this)})});return()=>e.dispose()})}setupDocUpdate(){const e=this.context.getDisplayer();this.sideEffect.add(()=>{const i=n=>{if(this.authorId=String(n.authorId),n.authorId!==e.observerId)try{Po(this.doc,zr(n.payload),"_remote_edit_")}catch(o){console.warn(o)}};return e.addMagixEventListener(this.MagixMonacoDocChannel,i),()=>e.removeMagixEventListener(this.MagixMonacoDocChannel,i)}),this.sideEffect.add(()=>{const i=(n,o)=>{if(o!=="_remote_edit_"&&this.context.getIsWritable()){const r=this.context.getRoom();r&&(this.authorId=String(e.observerId),r.dispatchMagixEvent(this.MagixMonacoDocChannel,Nr(n)))}};return this.doc.on("update",i),()=>this.doc.off("update",i)})}setupDecorations(){this.sideEffect.add(()=>{const e=this.monacoEditor.onDidChangeCursorPosition(i=>{this.cursorPositions=[i.position,...i.secondaryPositions],this.readonly||this.broadcastCursors()});return()=>e.dispose()}),this.sideEffect.add(()=>{const e=this.monacoEditor.onDidChangeCursorSelection(()=>{this.readonly||this.broadcastSelections()});return()=>e.dispose()})}broadcastCursors(){try{const e=this.cursorPositions.map(i=>JSON.stringify(pn(this.yText,this.monacoModel.getOffsetAt(i))));this.context.updateAttributes(["cursors",this.observerId],e)}catch(e){console.warn(e)}}broadcastSelections(){const e=this.monacoEditor.getSelections();if(e)try{const i=JSON.stringify(e.filter(n=>!this.monaco.Selection.isEmpty(n)).map(n=>({start:pn(this.yText,this.monacoModel.getOffsetAt(n.getStartPosition())),end:pn(this.yText,this.monacoModel.getOffsetAt(n.getEndPosition()))})));this.context.updateAttributes(["selections",this.observerId],i)}catch(i){console.warn(i)}}setupAttrsUpdate(){this.sideEffect.add(()=>{const e=()=>{this.context.getDisplayer().state.roomMembers.forEach(i=>{var o,r,s;const n=String(i.memberId);if(n!==this.observerId){let a=this.decorations.get(n);a||(a=new yd(this.doc,this.monaco,this.monacoEditor,this.monacoModel,n,((o=i.payload)==null?void 0:o.nickName)||n),this.decorations.set(n,a)),a.setCursor((r=this.attrs.cursors)==null?void 0:r[n]),a.setSelection((s=this.attrs.selections)==null?void 0:s[n]),this.renderDecorations()}})};return this.context.emitter.on("attributesUpdate",e),()=>this.context.emitter.off("attributesUpdate",e)})}setupMembers(){this.sideEffect.add(()=>{const e=i=>{if(i.roomMembers){const n=new Set(i.roomMembers.map(o=>String(o.memberId)));this.decorations.forEach((o,r)=>{n.has(r)||(o.destroy(),this.decorations.delete(r))}),this.attrs.cursors&&Object.keys(this.attrs.cursors).forEach(o=>{n.has(o)||this.context.updateAttributes(["cursors",o],void 0)}),this.attrs.selections&&Object.keys(this.attrs.selections).forEach(o=>{n.has(o)||this.context.updateAttributes(["selections",o],void 0)})}};return this.context.emitter.on("roomStateChange",e),()=>this.context.emitter.off("roomStateChange",e)})}renderDecorations(){const e=[];this.decorations.forEach(i=>{e.push(...i.rerender(this.authorId))}),this.deltaDecorations=this.monacoModel.deltaDecorations(this.deltaDecorations,e)}}class vd{constructor(e,i,n){this.context=e,this.attrs=i,this.compiler=n,this.content="",this.namespace="netless-app-monaco-terminal",this.sideEffect=new qt,this.$content=document.createElement("pre"),this.$content.className=`${this.namespace} tele-fancy-scrollbar`,this.content=this.attrs.terminal,this.render(),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.terminal,o=>{o!=null&&o!==this.content&&(this.content=o,this.render())})),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.codeRunning,()=>{this.render()}))}async runCode(e,i){this.updateCodeRunning(!0),this.updateTerminal(await this.compiler.runCode(e,i)),this.updateCodeRunning(!1)}updateTerminal(e){e!==this.attrs.terminal&&this.context.updateAttributes(["terminal"],e)}updateCodeRunning(e){e!==this.attrs.codeRunning&&(this.context.updateAttributes(["codeRunning"],e),e&&this.context.updateAttributes(["terminal"],""))}render(){this.attrs.codeRunning?(this.$content.style.display="block",this.$content.textContent=`Code Running...
`):this.content?(this.$content.style.display="block",this.$content.textContent=this.content):this.$content.style.display="none"}wrapClassName(e){return`${this.namespace}-${e}`}}/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Ad=4,Rr=0,Lr=1,Dd=2;function Xe(t){let e=t.length;for(;--e>=0;)t[e]=0}const Sd=0,Ur=1,Ed=2,Cd=3,Md=258,Mn=29,kt=256,vt=kt+1+Mn,et=30,In=19,jr=2*vt+1,Oe=15,Nn=16,Id=7,zn=256,Zr=16,Fr=17,$r=18,Tn=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),vi=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Nd=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Br=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),zd=512,ue=new Array((vt+2)*2);Xe(ue);const At=new Array(et*2);Xe(At);const Dt=new Array(zd);Xe(Dt);const St=new Array(Md-Cd+1);Xe(St);const On=new Array(Mn);Xe(On);const Ai=new Array(et);Xe(Ai);function Rn(t,e,i,n,o){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=o,this.has_stree=t&&t.length}let qr,Vr,Hr;function Ln(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Pr=t=>t<256?Dt[t]:Dt[256+(t>>>7)],Et=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},H=(t,e,i)=>{t.bi_valid>Nn-i?(t.bi_buf|=e<<t.bi_valid&65535,Et(t,t.bi_buf),t.bi_buf=e>>Nn-t.bi_valid,t.bi_valid+=i-Nn):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)},se=(t,e,i)=>{H(t,i[e*2],i[e*2+1])},Gr=(t,e)=>{let i=0;do i|=t&1,t>>>=1,i<<=1;while(--e>0);return i>>>1},Td=t=>{t.bi_valid===16?(Et(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},Od=(t,e)=>{const i=e.dyn_tree,n=e.max_code,o=e.stat_desc.static_tree,r=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,d=e.stat_desc.max_length;let l,c,f,u,h,p,m=0;for(u=0;u<=Oe;u++)t.bl_count[u]=0;for(i[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<jr;l++)c=t.heap[l],u=i[i[c*2+1]*2+1]+1,u>d&&(u=d,m++),i[c*2+1]=u,!(c>n)&&(t.bl_count[u]++,h=0,c>=a&&(h=s[c-a]),p=i[c*2],t.opt_len+=p*(u+h),r&&(t.static_len+=p*(o[c*2+1]+h)));if(m!==0){do{for(u=d-1;t.bl_count[u]===0;)u--;t.bl_count[u]--,t.bl_count[u+1]+=2,t.bl_count[d]--,m-=2}while(m>0);for(u=d;u!==0;u--)for(c=t.bl_count[u];c!==0;)f=t.heap[--l],!(f>n)&&(i[f*2+1]!==u&&(t.opt_len+=(u-i[f*2+1])*i[f*2],i[f*2+1]=u),c--)}},Yr=(t,e,i)=>{const n=new Array(Oe+1);let o=0,r,s;for(r=1;r<=Oe;r++)n[r]=o=o+i[r-1]<<1;for(s=0;s<=e;s++){let a=t[s*2+1];a!==0&&(t[s*2]=Gr(n[a]++,a))}},Rd=()=>{let t,e,i,n,o;const r=new Array(Oe+1);for(i=0,n=0;n<Mn-1;n++)for(On[n]=i,t=0;t<1<<Tn[n];t++)St[i++]=n;for(St[i-1]=n,o=0,n=0;n<16;n++)for(Ai[n]=o,t=0;t<1<<vi[n];t++)Dt[o++]=n;for(o>>=7;n<et;n++)for(Ai[n]=o<<7,t=0;t<1<<vi[n]-7;t++)Dt[256+o++]=n;for(e=0;e<=Oe;e++)r[e]=0;for(t=0;t<=143;)ue[t*2+1]=8,t++,r[8]++;for(;t<=255;)ue[t*2+1]=9,t++,r[9]++;for(;t<=279;)ue[t*2+1]=7,t++,r[7]++;for(;t<=287;)ue[t*2+1]=8,t++,r[8]++;for(Yr(ue,vt+1,r),t=0;t<et;t++)At[t*2+1]=5,At[t*2]=Gr(t,5);qr=new Rn(ue,Tn,kt+1,vt,Oe),Vr=new Rn(At,vi,0,et,Oe),Hr=new Rn(new Array(0),Nd,0,In,Id)},Qr=t=>{let e;for(e=0;e<vt;e++)t.dyn_ltree[e*2]=0;for(e=0;e<et;e++)t.dyn_dtree[e*2]=0;for(e=0;e<In;e++)t.bl_tree[e*2]=0;t.dyn_ltree[zn*2]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},Wr=t=>{t.bi_valid>8?Et(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Ld=(t,e,i,n)=>{Wr(t),n&&(Et(t,i),Et(t,~i)),t.pending_buf.set(t.window.subarray(e,e+i),t.pending),t.pending+=i},Jr=(t,e,i,n)=>{const o=e*2,r=i*2;return t[o]<t[r]||t[o]===t[r]&&n[e]<=n[i]},Un=(t,e,i)=>{const n=t.heap[i];let o=i<<1;for(;o<=t.heap_len&&(o<t.heap_len&&Jr(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!Jr(e,n,t.heap[o],t.depth));)t.heap[i]=t.heap[o],i=o,o<<=1;t.heap[i]=n},Kr=(t,e,i)=>{let n,o,r=0,s,a;if(t.last_lit!==0)do n=t.pending_buf[t.d_buf+r*2]<<8|t.pending_buf[t.d_buf+r*2+1],o=t.pending_buf[t.l_buf+r],r++,n===0?se(t,o,e):(s=St[o],se(t,s+kt+1,e),a=Tn[s],a!==0&&(o-=On[s],H(t,o,a)),n--,s=Pr(n),se(t,s,i),a=vi[s],a!==0&&(n-=Ai[s],H(t,n,a)));while(r<t.last_lit);se(t,zn,e)},jn=(t,e)=>{const i=e.dyn_tree,n=e.stat_desc.static_tree,o=e.stat_desc.has_stree,r=e.stat_desc.elems;let s,a,d=-1,l;for(t.heap_len=0,t.heap_max=jr,s=0;s<r;s++)i[s*2]!==0?(t.heap[++t.heap_len]=d=s,t.depth[s]=0):i[s*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=d<2?++d:0,i[l*2]=1,t.depth[l]=0,t.opt_len--,o&&(t.static_len-=n[l*2+1]);for(e.max_code=d,s=t.heap_len>>1;s>=1;s--)Un(t,i,s);l=r;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Un(t,i,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,i[l*2]=i[s*2]+i[a*2],t.depth[l]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,i[s*2+1]=i[a*2+1]=l,t.heap[1]=l++,Un(t,i,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],Od(t,e),Yr(i,d,t.bl_count)},Xr=(t,e,i)=>{let n,o=-1,r,s=e[0*2+1],a=0,d=7,l=4;for(s===0&&(d=138,l=3),e[(i+1)*2+1]=65535,n=0;n<=i;n++)r=s,s=e[(n+1)*2+1],!(++a<d&&r===s)&&(a<l?t.bl_tree[r*2]+=a:r!==0?(r!==o&&t.bl_tree[r*2]++,t.bl_tree[Zr*2]++):a<=10?t.bl_tree[Fr*2]++:t.bl_tree[$r*2]++,a=0,o=r,s===0?(d=138,l=3):r===s?(d=6,l=3):(d=7,l=4))},es=(t,e,i)=>{let n,o=-1,r,s=e[0*2+1],a=0,d=7,l=4;for(s===0&&(d=138,l=3),n=0;n<=i;n++)if(r=s,s=e[(n+1)*2+1],!(++a<d&&r===s)){if(a<l)do se(t,r,t.bl_tree);while(--a!=0);else r!==0?(r!==o&&(se(t,r,t.bl_tree),a--),se(t,Zr,t.bl_tree),H(t,a-3,2)):a<=10?(se(t,Fr,t.bl_tree),H(t,a-3,3)):(se(t,$r,t.bl_tree),H(t,a-11,7));a=0,o=r,s===0?(d=138,l=3):r===s?(d=6,l=3):(d=7,l=4)}},Ud=t=>{let e;for(Xr(t,t.dyn_ltree,t.l_desc.max_code),Xr(t,t.dyn_dtree,t.d_desc.max_code),jn(t,t.bl_desc),e=In-1;e>=3&&t.bl_tree[Br[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},jd=(t,e,i,n)=>{let o;for(H(t,e-257,5),H(t,i-1,5),H(t,n-4,4),o=0;o<n;o++)H(t,t.bl_tree[Br[o]*2+1],3);es(t,t.dyn_ltree,e-1),es(t,t.dyn_dtree,i-1)},Zd=t=>{let e=4093624447,i;for(i=0;i<=31;i++,e>>>=1)if(e&1&&t.dyn_ltree[i*2]!==0)return Rr;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Lr;for(i=32;i<kt;i++)if(t.dyn_ltree[i*2]!==0)return Lr;return Rr};let ts=!1;const Fd=t=>{ts||(Rd(),ts=!0),t.l_desc=new Ln(t.dyn_ltree,qr),t.d_desc=new Ln(t.dyn_dtree,Vr),t.bl_desc=new Ln(t.bl_tree,Hr),t.bi_buf=0,t.bi_valid=0,Qr(t)},is=(t,e,i,n)=>{H(t,(Sd<<1)+(n?1:0),3),Ld(t,e,i,!0)},$d=t=>{H(t,Ur<<1,3),se(t,zn,ue),Td(t)},Bd=(t,e,i,n)=>{let o,r,s=0;t.level>0?(t.strm.data_type===Dd&&(t.strm.data_type=Zd(t)),jn(t,t.l_desc),jn(t,t.d_desc),s=Ud(t),o=t.opt_len+3+7>>>3,r=t.static_len+3+7>>>3,r<=o&&(o=r)):o=r=i+5,i+4<=o&&e!==-1?is(t,e,i,n):t.strategy===Ad||r===o?(H(t,(Ur<<1)+(n?1:0),3),Kr(t,ue,At)):(H(t,(Ed<<1)+(n?1:0),3),jd(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Kr(t,t.dyn_ltree,t.dyn_dtree)),Qr(t),n&&Wr(t)},qd=(t,e,i)=>(t.pending_buf[t.d_buf+t.last_lit*2]=e>>>8&255,t.pending_buf[t.d_buf+t.last_lit*2+1]=e&255,t.pending_buf[t.l_buf+t.last_lit]=i&255,t.last_lit++,e===0?t.dyn_ltree[i*2]++:(t.matches++,e--,t.dyn_ltree[(St[i]+kt+1)*2]++,t.dyn_dtree[Pr(e)*2]++),t.last_lit===t.lit_bufsize-1);var Vd=Fd,Hd=is,Pd=Bd,Gd=qd,Yd=$d,Qd={_tr_init:Vd,_tr_stored_block:Hd,_tr_flush_block:Pd,_tr_tally:Gd,_tr_align:Yd};const Wd=(t,e,i,n)=>{let o=t&65535|0,r=t>>>16&65535|0,s=0;for(;i!==0;){s=i>2e3?2e3:i,i-=s;do o=o+e[n++]|0,r=r+o|0;while(--s);o%=65521,r%=65521}return o|r<<16|0};var Ct=Wd;const Jd=()=>{let t,e=[];for(var i=0;i<256;i++){t=i;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[i]=t}return e},Kd=new Uint32Array(Jd()),Xd=(t,e,i,n)=>{const o=Kd,r=n+i;t^=-1;for(let s=n;s<r;s++)t=t>>>8^o[(t^e[s])&255];return t^-1};var Z=Xd,tt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Mt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:eh,_tr_stored_block:th,_tr_flush_block:ih,_tr_tally:_e,_tr_align:nh}=Qd,{Z_NO_FLUSH:Re,Z_PARTIAL_FLUSH:oh,Z_FULL_FLUSH:rh,Z_FINISH:ye,Z_BLOCK:ns,Z_OK:ae,Z_STREAM_END:os,Z_STREAM_ERROR:J,Z_DATA_ERROR:sh,Z_BUF_ERROR:Zn,Z_DEFAULT_COMPRESSION:ah,Z_FILTERED:lh,Z_HUFFMAN_ONLY:Di,Z_RLE:ch,Z_FIXED:dh,Z_DEFAULT_STRATEGY:hh,Z_UNKNOWN:uh,Z_DEFLATED:Si}=Mt,fh=9,ph=15,gh=8,mh=29,bh=256,Fn=bh+1+mh,wh=30,xh=19,_h=2*Fn+1,yh=15,D=3,ke=258,ee=ke+D+1,kh=32,Ei=42,$n=69,Ci=73,Mi=91,Ii=103,Le=113,It=666,L=1,Nt=2,Ue=3,it=4,vh=3,ve=(t,e)=>(t.msg=tt[e],e),rs=t=>(t<<1)-(t>4?9:0),Ae=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let Ah=(t,e,i)=>(e<<t.hash_shift^i)&t.hash_mask,De=Ah;const Se=t=>{const e=t.state;let i=e.pending;i>t.avail_out&&(i=t.avail_out),i!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+i),t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,e.pending===0&&(e.pending_out=0))},B=(t,e)=>{ih(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Se(t.strm)},E=(t,e)=>{t.pending_buf[t.pending++]=e},zt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},Dh=(t,e,i,n)=>{let o=t.avail_in;return o>n&&(o=n),o===0?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),i),t.state.wrap===1?t.adler=Ct(t.adler,e,o,i):t.state.wrap===2&&(t.adler=Z(t.adler,e,o,i)),t.next_in+=o,t.total_in+=o,o)},ss=(t,e)=>{let i=t.max_chain_length,n=t.strstart,o,r,s=t.prev_length,a=t.nice_match;const d=t.strstart>t.w_size-ee?t.strstart-(t.w_size-ee):0,l=t.window,c=t.w_mask,f=t.prev,u=t.strstart+ke;let h=l[n+s-1],p=l[n+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do if(o=e,!(l[o+s]!==p||l[o+s-1]!==h||l[o]!==l[n]||l[++o]!==l[n+1])){n+=2,o++;do;while(l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&l[++n]===l[++o]&&n<u);if(r=ke-(u-n),n=u-ke,r>s){if(t.match_start=e,s=r,r>=a)break;h=l[n+s-1],p=l[n+s]}}while((e=f[e&c])>d&&--i!=0);return s<=t.lookahead?s:t.lookahead},je=t=>{const e=t.w_size;let i,n,o,r,s;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ee)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,i=n;do o=t.head[--i],t.head[i]=o>=e?o-e:0;while(--n);n=e,i=n;do o=t.prev[--i],t.prev[i]=o>=e?o-e:0;while(--n);r+=e}if(t.strm.avail_in===0)break;if(n=Dh(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=D)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=De(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=De(t,t.ins_h,t.window[s+D-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<D)););}while(t.lookahead<ee&&t.strm.avail_in!==0)},Sh=(t,e)=>{let i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(je(t),t.lookahead===0&&e===Re)return L;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+i;if((t.strstart===0||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,B(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-ee&&(B(t,!1),t.strm.avail_out===0))return L}return t.insert=0,e===ye?(B(t,!0),t.strm.avail_out===0?Ue:it):(t.strstart>t.block_start&&(B(t,!1),t.strm.avail_out===0),L)},Bn=(t,e)=>{let i,n;for(;;){if(t.lookahead<ee){if(je(t),t.lookahead<ee&&e===Re)return L;if(t.lookahead===0)break}if(i=0,t.lookahead>=D&&(t.ins_h=De(t,t.ins_h,t.window[t.strstart+D-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),i!==0&&t.strstart-i<=t.w_size-ee&&(t.match_length=ss(t,i)),t.match_length>=D)if(n=_e(t,t.strstart-t.match_start,t.match_length-D),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=D){t.match_length--;do t.strstart++,t.ins_h=De(t,t.ins_h,t.window[t.strstart+D-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!=0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=De(t,t.ins_h,t.window[t.strstart+1]);else n=_e(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(B(t,!1),t.strm.avail_out===0))return L}return t.insert=t.strstart<D-1?t.strstart:D-1,e===ye?(B(t,!0),t.strm.avail_out===0?Ue:it):t.last_lit&&(B(t,!1),t.strm.avail_out===0)?L:Nt},nt=(t,e)=>{let i,n,o;for(;;){if(t.lookahead<ee){if(je(t),t.lookahead<ee&&e===Re)return L;if(t.lookahead===0)break}if(i=0,t.lookahead>=D&&(t.ins_h=De(t,t.ins_h,t.window[t.strstart+D-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=D-1,i!==0&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-ee&&(t.match_length=ss(t,i),t.match_length<=5&&(t.strategy===lh||t.match_length===D&&t.strstart-t.match_start>4096)&&(t.match_length=D-1)),t.prev_length>=D&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-D,n=_e(t,t.strstart-1-t.prev_match,t.prev_length-D),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=De(t,t.ins_h,t.window[t.strstart+D-1]),i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!=0);if(t.match_available=0,t.match_length=D-1,t.strstart++,n&&(B(t,!1),t.strm.avail_out===0))return L}else if(t.match_available){if(n=_e(t,0,t.window[t.strstart-1]),n&&B(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return L}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=_e(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<D-1?t.strstart:D-1,e===ye?(B(t,!0),t.strm.avail_out===0?Ue:it):t.last_lit&&(B(t,!1),t.strm.avail_out===0)?L:Nt},Eh=(t,e)=>{let i,n,o,r;const s=t.window;for(;;){if(t.lookahead<=ke){if(je(t),t.lookahead<=ke&&e===Re)return L;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=D&&t.strstart>0&&(o=t.strstart-1,n=s[o],n===s[++o]&&n===s[++o]&&n===s[++o])){r=t.strstart+ke;do;while(n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&n===s[++o]&&o<r);t.match_length=ke-(r-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=D?(i=_e(t,1,t.match_length-D),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=_e(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(B(t,!1),t.strm.avail_out===0))return L}return t.insert=0,e===ye?(B(t,!0),t.strm.avail_out===0?Ue:it):t.last_lit&&(B(t,!1),t.strm.avail_out===0)?L:Nt},Ch=(t,e)=>{let i;for(;;){if(t.lookahead===0&&(je(t),t.lookahead===0)){if(e===Re)return L;break}if(t.match_length=0,i=_e(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(B(t,!1),t.strm.avail_out===0))return L}return t.insert=0,e===ye?(B(t,!0),t.strm.avail_out===0?Ue:it):t.last_lit&&(B(t,!1),t.strm.avail_out===0)?L:Nt};function le(t,e,i,n,o){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=o}const Tt=[new le(0,0,0,0,Sh),new le(4,4,8,4,Bn),new le(4,5,16,8,Bn),new le(4,6,32,32,Bn),new le(4,4,16,16,nt),new le(8,16,32,32,nt),new le(8,16,128,128,nt),new le(8,32,128,256,nt),new le(32,128,258,1024,nt),new le(32,258,258,4096,nt)],Mh=t=>{t.window_size=2*t.w_size,Ae(t.head),t.max_lazy_match=Tt[t.level].max_lazy,t.good_match=Tt[t.level].good_length,t.nice_match=Tt[t.level].nice_length,t.max_chain_length=Tt[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=D-1,t.match_available=0,t.ins_h=0};function Ih(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Si,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(_h*2),this.dyn_dtree=new Uint16Array((2*wh+1)*2),this.bl_tree=new Uint16Array((2*xh+1)*2),Ae(this.dyn_ltree),Ae(this.dyn_dtree),Ae(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(yh+1),this.heap=new Uint16Array(2*Fn+1),Ae(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Fn+1),Ae(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const as=t=>{if(!t||!t.state)return ve(t,J);t.total_in=t.total_out=0,t.data_type=uh;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?Ei:Le,t.adler=e.wrap===2?0:1,e.last_flush=Re,eh(e),ae},ls=t=>{const e=as(t);return e===ae&&Mh(t.state),e},Nh=(t,e)=>!t||!t.state||t.state.wrap!==2?J:(t.state.gzhead=e,ae),cs=(t,e,i,n,o,r)=>{if(!t)return J;let s=1;if(e===ah&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>fh||i!==Si||n<8||n>15||e<0||e>9||r<0||r>dh)return ve(t,J);n===8&&(n=9);const a=new Ih;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+D-1)/D),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=(1+2)*a.lit_bufsize,a.level=e,a.strategy=r,a.method=i,ls(t)},zh=(t,e)=>cs(t,e,Si,ph,gh,hh),Th=(t,e)=>{let i,n;if(!t||!t.state||e>ns||e<0)return t?ve(t,J):J;const o=t.state;if(!t.output||!t.input&&t.avail_in!==0||o.status===It&&e!==ye)return ve(t,t.avail_out===0?Zn:J);o.strm=t;const r=o.last_flush;if(o.last_flush=e,o.status===Ei)if(o.wrap===2)t.adler=0,E(o,31),E(o,139),E(o,8),o.gzhead?(E(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),E(o,o.gzhead.time&255),E(o,o.gzhead.time>>8&255),E(o,o.gzhead.time>>16&255),E(o,o.gzhead.time>>24&255),E(o,o.level===9?2:o.strategy>=Di||o.level<2?4:0),E(o,o.gzhead.os&255),o.gzhead.extra&&o.gzhead.extra.length&&(E(o,o.gzhead.extra.length&255),E(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(t.adler=Z(t.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=$n):(E(o,0),E(o,0),E(o,0),E(o,0),E(o,0),E(o,o.level===9?2:o.strategy>=Di||o.level<2?4:0),E(o,vh),o.status=Le);else{let s=Si+(o.w_bits-8<<4)<<8,a=-1;o.strategy>=Di||o.level<2?a=0:o.level<6?a=1:o.level===6?a=2:a=3,s|=a<<6,o.strstart!==0&&(s|=kh),s+=31-s%31,o.status=Le,zt(o,s),o.strstart!==0&&(zt(o,t.adler>>>16),zt(o,t.adler&65535)),t.adler=1}if(o.status===$n)if(o.gzhead.extra){for(i=o.pending;o.gzindex<(o.gzhead.extra.length&65535)&&!(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(t.adler=Z(t.adler,o.pending_buf,o.pending-i,i)),Se(t),i=o.pending,o.pending===o.pending_buf_size));)E(o,o.gzhead.extra[o.gzindex]&255),o.gzindex++;o.gzhead.hcrc&&o.pending>i&&(t.adler=Z(t.adler,o.pending_buf,o.pending-i,i)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=Ci)}else o.status=Ci;if(o.status===Ci)if(o.gzhead.name){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(t.adler=Z(t.adler,o.pending_buf,o.pending-i,i)),Se(t),i=o.pending,o.pending===o.pending_buf_size)){n=1;break}o.gzindex<o.gzhead.name.length?n=o.gzhead.name.charCodeAt(o.gzindex++)&255:n=0,E(o,n)}while(n!==0);o.gzhead.hcrc&&o.pending>i&&(t.adler=Z(t.adler,o.pending_buf,o.pending-i,i)),n===0&&(o.gzindex=0,o.status=Mi)}else o.status=Mi;if(o.status===Mi)if(o.gzhead.comment){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(t.adler=Z(t.adler,o.pending_buf,o.pending-i,i)),Se(t),i=o.pending,o.pending===o.pending_buf_size)){n=1;break}o.gzindex<o.gzhead.comment.length?n=o.gzhead.comment.charCodeAt(o.gzindex++)&255:n=0,E(o,n)}while(n!==0);o.gzhead.hcrc&&o.pending>i&&(t.adler=Z(t.adler,o.pending_buf,o.pending-i,i)),n===0&&(o.status=Ii)}else o.status=Ii;if(o.status===Ii&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&Se(t),o.pending+2<=o.pending_buf_size&&(E(o,t.adler&255),E(o,t.adler>>8&255),t.adler=0,o.status=Le)):o.status=Le),o.pending!==0){if(Se(t),t.avail_out===0)return o.last_flush=-1,ae}else if(t.avail_in===0&&rs(e)<=rs(r)&&e!==ye)return ve(t,Zn);if(o.status===It&&t.avail_in!==0)return ve(t,Zn);if(t.avail_in!==0||o.lookahead!==0||e!==Re&&o.status!==It){let s=o.strategy===Di?Ch(o,e):o.strategy===ch?Eh(o,e):Tt[o.level].func(o,e);if((s===Ue||s===it)&&(o.status=It),s===L||s===Ue)return t.avail_out===0&&(o.last_flush=-1),ae;if(s===Nt&&(e===oh?nh(o):e!==ns&&(th(o,0,0,!1),e===rh&&(Ae(o.head),o.lookahead===0&&(o.strstart=0,o.block_start=0,o.insert=0))),Se(t),t.avail_out===0))return o.last_flush=-1,ae}return e!==ye?ae:o.wrap<=0?os:(o.wrap===2?(E(o,t.adler&255),E(o,t.adler>>8&255),E(o,t.adler>>16&255),E(o,t.adler>>24&255),E(o,t.total_in&255),E(o,t.total_in>>8&255),E(o,t.total_in>>16&255),E(o,t.total_in>>24&255)):(zt(o,t.adler>>>16),zt(o,t.adler&65535)),Se(t),o.wrap>0&&(o.wrap=-o.wrap),o.pending!==0?ae:os)},Oh=t=>{if(!t||!t.state)return J;const e=t.state.status;return e!==Ei&&e!==$n&&e!==Ci&&e!==Mi&&e!==Ii&&e!==Le&&e!==It?ve(t,J):(t.state=null,e===Le?ve(t,sh):ae)},Rh=(t,e)=>{let i=e.length;if(!t||!t.state)return J;const n=t.state,o=n.wrap;if(o===2||o===1&&n.status!==Ei||n.lookahead)return J;if(o===1&&(t.adler=Ct(t.adler,e,i,0)),n.wrap=0,i>=n.w_size){o===0&&(Ae(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(e.subarray(i-n.w_size,i),0),e=d,i=n.w_size}const r=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=i,t.next_in=0,t.input=e,je(n);n.lookahead>=D;){let d=n.strstart,l=n.lookahead-(D-1);do n.ins_h=De(n,n.ins_h,n.window[d+D-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--l);n.strstart=d,n.lookahead=D-1,je(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=D-1,n.match_available=0,t.next_in=s,t.input=a,t.avail_in=r,n.wrap=o,ae};var Lh=zh,Uh=cs,jh=ls,Zh=as,Fh=Nh,$h=Th,Bh=Oh,qh=Rh,Vh="pako deflate (from Nodeca project)",Ot={deflateInit:Lh,deflateInit2:Uh,deflateReset:jh,deflateResetKeep:Zh,deflateSetHeader:Fh,deflate:$h,deflateEnd:Bh,deflateSetDictionary:qh,deflateInfo:Vh};const Hh=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Ph=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const i=e.shift();if(!!i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(const n in i)Hh(i,n)&&(t[n]=i[n])}}return t},Gh=t=>{let e=0;for(let n=0,o=t.length;n<o;n++)e+=t[n].length;const i=new Uint8Array(e);for(let n=0,o=0,r=t.length;n<r;n++){let s=t[n];i.set(s,o),o+=s.length}return i},Ni={assign:Ph,flattenChunks:Gh};let ds=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ds=!1}const Rt=new Uint8Array(256);for(let t=0;t<256;t++)Rt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Rt[254]=Rt[254]=1;var Yh=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,i,n,o,r,s=t.length,a=0;for(o=0;o<s;o++)i=t.charCodeAt(o),(i&64512)==55296&&o+1<s&&(n=t.charCodeAt(o+1),(n&64512)==56320&&(i=65536+(i-55296<<10)+(n-56320),o++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(e=new Uint8Array(a),r=0,o=0;r<a;o++)i=t.charCodeAt(o),(i&64512)==55296&&o+1<s&&(n=t.charCodeAt(o+1),(n&64512)==56320&&(i=65536+(i-55296<<10)+(n-56320),o++)),i<128?e[r++]=i:i<2048?(e[r++]=192|i>>>6,e[r++]=128|i&63):i<65536?(e[r++]=224|i>>>12,e[r++]=128|i>>>6&63,e[r++]=128|i&63):(e[r++]=240|i>>>18,e[r++]=128|i>>>12&63,e[r++]=128|i>>>6&63,e[r++]=128|i&63);return e};const Qh=(t,e)=>{if(e<65534&&t.subarray&&ds)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let i="";for(let n=0;n<e;n++)i+=String.fromCharCode(t[n]);return i};var Wh=(t,e)=>{const i=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,o;const r=new Array(i*2);for(o=0,n=0;n<i;){let s=t[n++];if(s<128){r[o++]=s;continue}let a=Rt[s];if(a>4){r[o++]=65533,n+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&n<i;)s=s<<6|t[n++]&63,a--;if(a>1){r[o++]=65533;continue}s<65536?r[o++]=s:(s-=65536,r[o++]=55296|s>>10&1023,r[o++]=56320|s&1023)}return Qh(r,o)},Jh=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let i=e-1;for(;i>=0&&(t[i]&192)==128;)i--;return i<0||i===0?e:i+Rt[t[i]]>e?i:e},Lt={string2buf:Yh,buf2string:Wh,utf8border:Jh};function Kh(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hs=Kh;const us=Object.prototype.toString,{Z_NO_FLUSH:Xh,Z_SYNC_FLUSH:eu,Z_FULL_FLUSH:tu,Z_FINISH:iu,Z_OK:zi,Z_STREAM_END:nu,Z_DEFAULT_COMPRESSION:ou,Z_DEFAULT_STRATEGY:ru,Z_DEFLATED:su}=Mt;function Ut(t){this.options=Ni.assign({level:ou,method:su,chunkSize:16384,windowBits:15,memLevel:8,strategy:ru},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hs,this.strm.avail_out=0;let i=Ot.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==zi)throw new Error(tt[i]);if(e.header&&Ot.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=Lt.string2buf(e.dictionary):us.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,i=Ot.deflateSetDictionary(this.strm,n),i!==zi)throw new Error(tt[i]);this._dict_set=!0}}Ut.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize;let o,r;if(this.ended)return!1;for(e===~~e?r=e:r=e===!0?iu:Xh,typeof t=="string"?i.input=Lt.string2buf(t):us.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){if(i.avail_out===0&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(r===eu||r===tu)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(o=Ot.deflate(i,r),o===nu)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),o=Ot.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===zi;if(i.avail_out===0){this.onData(i.output);continue}if(r>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(i.avail_in===0)break}return!0};Ut.prototype.onData=function(t){this.chunks.push(t)};Ut.prototype.onEnd=function(t){t===zi&&(this.result=Ni.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function qn(t,e){const i=new Ut(e);if(i.push(t,!0),i.err)throw i.msg||tt[i.err];return i.result}function au(t,e){return e=e||{},e.raw=!0,qn(t,e)}function lu(t,e){return e=e||{},e.gzip=!0,qn(t,e)}var cu=Ut,du=qn,hu=au,uu=lu,fu=Mt,pu={Deflate:cu,deflate:du,deflateRaw:hu,gzip:uu,constants:fu};const Ti=30,gu=12;var mu=function(e,i){let n,o,r,s,a,d,l,c,f,u,h,p,m,w,x,M,A,g,C,U,b,N,I,_;const k=e.state;n=e.next_in,I=e.input,o=n+(e.avail_in-5),r=e.next_out,_=e.output,s=r-(i-e.avail_out),a=r+(e.avail_out-257),d=k.dmax,l=k.wsize,c=k.whave,f=k.wnext,u=k.window,h=k.hold,p=k.bits,m=k.lencode,w=k.distcode,x=(1<<k.lenbits)-1,M=(1<<k.distbits)-1;e:do{p<15&&(h+=I[n++]<<p,p+=8,h+=I[n++]<<p,p+=8),A=m[h&x];t:for(;;){if(g=A>>>24,h>>>=g,p-=g,g=A>>>16&255,g===0)_[r++]=A&65535;else if(g&16){C=A&65535,g&=15,g&&(p<g&&(h+=I[n++]<<p,p+=8),C+=h&(1<<g)-1,h>>>=g,p-=g),p<15&&(h+=I[n++]<<p,p+=8,h+=I[n++]<<p,p+=8),A=w[h&M];i:for(;;){if(g=A>>>24,h>>>=g,p-=g,g=A>>>16&255,g&16){if(U=A&65535,g&=15,p<g&&(h+=I[n++]<<p,p+=8,p<g&&(h+=I[n++]<<p,p+=8)),U+=h&(1<<g)-1,U>d){e.msg="invalid distance too far back",k.mode=Ti;break e}if(h>>>=g,p-=g,g=r-s,U>g){if(g=U-g,g>c&&k.sane){e.msg="invalid distance too far back",k.mode=Ti;break e}if(b=0,N=u,f===0){if(b+=l-g,g<C){C-=g;do _[r++]=u[b++];while(--g);b=r-U,N=_}}else if(f<g){if(b+=l+f-g,g-=f,g<C){C-=g;do _[r++]=u[b++];while(--g);if(b=0,f<C){g=f,C-=g;do _[r++]=u[b++];while(--g);b=r-U,N=_}}}else if(b+=f-g,g<C){C-=g;do _[r++]=u[b++];while(--g);b=r-U,N=_}for(;C>2;)_[r++]=N[b++],_[r++]=N[b++],_[r++]=N[b++],C-=3;C&&(_[r++]=N[b++],C>1&&(_[r++]=N[b++]))}else{b=r-U;do _[r++]=_[b++],_[r++]=_[b++],_[r++]=_[b++],C-=3;while(C>2);C&&(_[r++]=_[b++],C>1&&(_[r++]=_[b++]))}}else if((g&64)==0){A=w[(A&65535)+(h&(1<<g)-1)];continue i}else{e.msg="invalid distance code",k.mode=Ti;break e}break}}else if((g&64)==0){A=m[(A&65535)+(h&(1<<g)-1)];continue t}else if(g&32){k.mode=gu;break e}else{e.msg="invalid literal/length code",k.mode=Ti;break e}break}}while(n<o&&r<a);C=p>>3,n-=C,p-=C<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=r,e.avail_in=n<o?5+(o-n):5-(n-o),e.avail_out=r<a?257+(a-r):257-(r-a),k.hold=h,k.bits=p};const ot=15,fs=852,ps=592,gs=0,Vn=1,ms=2,bu=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wu=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xu=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_u=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yu=(t,e,i,n,o,r,s,a)=>{const d=a.bits;let l=0,c=0,f=0,u=0,h=0,p=0,m=0,w=0,x=0,M=0,A,g,C,U,b,N=null,I=0,_;const k=new Uint16Array(ot+1),Ee=new Uint16Array(ot+1);let Ft=null,Xn=0,eo,$t,Bt;for(l=0;l<=ot;l++)k[l]=0;for(c=0;c<n;c++)k[e[i+c]]++;for(h=d,u=ot;u>=1&&k[u]===0;u--);if(h>u&&(h=u),u===0)return o[r++]=1<<24|64<<16|0,o[r++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<u&&k[f]===0;f++);for(h<f&&(h=f),w=1,l=1;l<=ot;l++)if(w<<=1,w-=k[l],w<0)return-1;if(w>0&&(t===gs||u!==1))return-1;for(Ee[1]=0,l=1;l<ot;l++)Ee[l+1]=Ee[l]+k[l];for(c=0;c<n;c++)e[i+c]!==0&&(s[Ee[e[i+c]]++]=c);if(t===gs?(N=Ft=s,_=19):t===Vn?(N=bu,I-=257,Ft=wu,Xn-=257,_=256):(N=xu,Ft=_u,_=-1),M=0,c=0,l=f,b=r,p=h,m=0,C=-1,x=1<<h,U=x-1,t===Vn&&x>fs||t===ms&&x>ps)return 1;for(;;){eo=l-m,s[c]<_?($t=0,Bt=s[c]):s[c]>_?($t=Ft[Xn+s[c]],Bt=N[I+s[c]]):($t=32+64,Bt=0),A=1<<l-m,g=1<<p,f=g;do g-=A,o[b+(M>>m)+g]=eo<<24|$t<<16|Bt|0;while(g!==0);for(A=1<<l-1;M&A;)A>>=1;if(A!==0?(M&=A-1,M+=A):M=0,c++,--k[l]==0){if(l===u)break;l=e[i+s[c]]}if(l>h&&(M&U)!==C){for(m===0&&(m=h),b+=f,p=l-m,w=1<<p;p+m<u&&(w-=k[p+m],!(w<=0));)p++,w<<=1;if(x+=1<<p,t===Vn&&x>fs||t===ms&&x>ps)return 1;C=M&U,o[C]=h<<24|p<<16|b-r|0}}return M!==0&&(o[b+M]=l-m<<24|64<<16|0),a.bits=h,0};var jt=yu;const ku=0,bs=1,ws=2,{Z_FINISH:xs,Z_BLOCK:vu,Z_TREES:Oi,Z_OK:Ze,Z_STREAM_END:Au,Z_NEED_DICT:Du,Z_STREAM_ERROR:K,Z_DATA_ERROR:_s,Z_MEM_ERROR:ys,Z_BUF_ERROR:Su,Z_DEFLATED:ks}=Mt,vs=1,As=2,Ds=3,Ss=4,Es=5,Cs=6,Ms=7,Is=8,Ns=9,zs=10,Ri=11,fe=12,Hn=13,Ts=14,Pn=15,Os=16,Rs=17,Ls=18,Us=19,Li=20,Ui=21,js=22,Zs=23,Fs=24,$s=25,Bs=26,Gn=27,qs=28,Vs=29,T=30,Hs=31,Eu=32,Cu=852,Mu=592,Iu=15,Nu=Iu,Ps=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function zu(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Gs=t=>{if(!t||!t.state)return K;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=vs,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Cu),e.distcode=e.distdyn=new Int32Array(Mu),e.sane=1,e.back=-1,Ze},Ys=t=>{if(!t||!t.state)return K;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Gs(t)},Qs=(t,e)=>{let i;if(!t||!t.state)return K;const n=t.state;return e<0?(i=0,e=-e):(i=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?K:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,Ys(t))},Ws=(t,e)=>{if(!t)return K;const i=new zu;t.state=i,i.window=null;const n=Qs(t,e);return n!==Ze&&(t.state=null),n},Tu=t=>Ws(t,Nu);let Js=!0,Yn,Qn;const Ou=t=>{if(Js){Yn=new Int32Array(512),Qn=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(jt(bs,t.lens,0,288,Yn,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;jt(ws,t.lens,0,32,Qn,0,t.work,{bits:5}),Js=!1}t.lencode=Yn,t.lenbits=9,t.distcode=Qn,t.distbits=5},Ks=(t,e,i,n)=>{let o;const r=t.state;return r.window===null&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new Uint8Array(r.wsize)),n>=r.wsize?(r.window.set(e.subarray(i-r.wsize,i),0),r.wnext=0,r.whave=r.wsize):(o=r.wsize-r.wnext,o>n&&(o=n),r.window.set(e.subarray(i-n,i-n+o),r.wnext),n-=o,n?(r.window.set(e.subarray(i-n,i),0),r.wnext=n,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0},Ru=(t,e)=>{let i,n,o,r,s,a,d,l,c,f,u,h,p,m,w=0,x,M,A,g,C,U,b,N;const I=new Uint8Array(4);let _,k;const Ee=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return K;i=t.state,i.mode===fe&&(i.mode=Hn),s=t.next_out,o=t.output,d=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,l=i.hold,c=i.bits,f=a,u=d,N=Ze;e:for(;;)switch(i.mode){case vs:if(i.wrap===0){i.mode=Hn;break}for(;c<16;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(i.wrap&2&&l===35615){i.check=0,I[0]=l&255,I[1]=l>>>8&255,i.check=Z(i.check,I,2,0),l=0,c=0,i.mode=As;break}if(i.flags=0,i.head&&(i.head.done=!1),!(i.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",i.mode=T;break}if((l&15)!==ks){t.msg="unknown compression method",i.mode=T;break}if(l>>>=4,c-=4,b=(l&15)+8,i.wbits===0)i.wbits=b;else if(b>i.wbits){t.msg="invalid window size",i.mode=T;break}i.dmax=1<<i.wbits,t.adler=i.check=1,i.mode=l&512?zs:fe,l=0,c=0;break;case As:for(;c<16;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(i.flags=l,(i.flags&255)!==ks){t.msg="unknown compression method",i.mode=T;break}if(i.flags&57344){t.msg="unknown header flags set",i.mode=T;break}i.head&&(i.head.text=l>>8&1),i.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,i.check=Z(i.check,I,2,0)),l=0,c=0,i.mode=Ds;case Ds:for(;c<32;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.head&&(i.head.time=l),i.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,I[2]=l>>>16&255,I[3]=l>>>24&255,i.check=Z(i.check,I,4,0)),l=0,c=0,i.mode=Ss;case Ss:for(;c<16;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.head&&(i.head.xflags=l&255,i.head.os=l>>8),i.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,i.check=Z(i.check,I,2,0)),l=0,c=0,i.mode=Es;case Es:if(i.flags&1024){for(;c<16;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.length=l,i.head&&(i.head.extra_len=l),i.flags&512&&(I[0]=l&255,I[1]=l>>>8&255,i.check=Z(i.check,I,2,0)),l=0,c=0}else i.head&&(i.head.extra=null);i.mode=Cs;case Cs:if(i.flags&1024&&(h=i.length,h>a&&(h=a),h&&(i.head&&(b=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(r,r+h),b)),i.flags&512&&(i.check=Z(i.check,n,h,r)),a-=h,r+=h,i.length-=h),i.length))break e;i.length=0,i.mode=Ms;case Ms:if(i.flags&2048){if(a===0)break e;h=0;do b=n[r+h++],i.head&&b&&i.length<65536&&(i.head.name+=String.fromCharCode(b));while(b&&h<a);if(i.flags&512&&(i.check=Z(i.check,n,h,r)),a-=h,r+=h,b)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=Is;case Is:if(i.flags&4096){if(a===0)break e;h=0;do b=n[r+h++],i.head&&b&&i.length<65536&&(i.head.comment+=String.fromCharCode(b));while(b&&h<a);if(i.flags&512&&(i.check=Z(i.check,n,h,r)),a-=h,r+=h,b)break e}else i.head&&(i.head.comment=null);i.mode=Ns;case Ns:if(i.flags&512){for(;c<16;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(l!==(i.check&65535)){t.msg="header crc mismatch",i.mode=T;break}l=0,c=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=fe;break;case zs:for(;c<32;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}t.adler=i.check=Ps(l),l=0,c=0,i.mode=Ri;case Ri:if(i.havedict===0)return t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=a,i.hold=l,i.bits=c,Du;t.adler=i.check=1,i.mode=fe;case fe:if(e===vu||e===Oi)break e;case Hn:if(i.last){l>>>=c&7,c-=c&7,i.mode=Gn;break}for(;c<3;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}switch(i.last=l&1,l>>>=1,c-=1,l&3){case 0:i.mode=Ts;break;case 1:if(Ou(i),i.mode=Li,e===Oi){l>>>=2,c-=2;break e}break;case 2:i.mode=Rs;break;case 3:t.msg="invalid block type",i.mode=T}l>>>=2,c-=2;break;case Ts:for(l>>>=c&7,c-=c&7;c<32;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if((l&65535)!=(l>>>16^65535)){t.msg="invalid stored block lengths",i.mode=T;break}if(i.length=l&65535,l=0,c=0,i.mode=Pn,e===Oi)break e;case Pn:i.mode=Os;case Os:if(h=i.length,h){if(h>a&&(h=a),h>d&&(h=d),h===0)break e;o.set(n.subarray(r,r+h),s),a-=h,r+=h,d-=h,s+=h,i.length-=h;break}i.mode=fe;break;case Rs:for(;c<14;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(i.nlen=(l&31)+257,l>>>=5,c-=5,i.ndist=(l&31)+1,l>>>=5,c-=5,i.ncode=(l&15)+4,l>>>=4,c-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=T;break}i.have=0,i.mode=Ls;case Ls:for(;i.have<i.ncode;){for(;c<3;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.lens[Ee[i.have++]]=l&7,l>>>=3,c-=3}for(;i.have<19;)i.lens[Ee[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,_={bits:i.lenbits},N=jt(ku,i.lens,0,19,i.lencode,0,i.work,_),i.lenbits=_.bits,N){t.msg="invalid code lengths set",i.mode=T;break}i.have=0,i.mode=Us;case Us:for(;i.have<i.nlen+i.ndist;){for(;w=i.lencode[l&(1<<i.lenbits)-1],x=w>>>24,M=w>>>16&255,A=w&65535,!(x<=c);){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(A<16)l>>>=x,c-=x,i.lens[i.have++]=A;else{if(A===16){for(k=x+2;c<k;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(l>>>=x,c-=x,i.have===0){t.msg="invalid bit length repeat",i.mode=T;break}b=i.lens[i.have-1],h=3+(l&3),l>>>=2,c-=2}else if(A===17){for(k=x+3;c<k;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}l>>>=x,c-=x,b=0,h=3+(l&7),l>>>=3,c-=3}else{for(k=x+7;c<k;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}l>>>=x,c-=x,b=0,h=11+(l&127),l>>>=7,c-=7}if(i.have+h>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=T;break}for(;h--;)i.lens[i.have++]=b}}if(i.mode===T)break;if(i.lens[256]===0){t.msg="invalid code -- missing end-of-block",i.mode=T;break}if(i.lenbits=9,_={bits:i.lenbits},N=jt(bs,i.lens,0,i.nlen,i.lencode,0,i.work,_),i.lenbits=_.bits,N){t.msg="invalid literal/lengths set",i.mode=T;break}if(i.distbits=6,i.distcode=i.distdyn,_={bits:i.distbits},N=jt(ws,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,_),i.distbits=_.bits,N){t.msg="invalid distances set",i.mode=T;break}if(i.mode=Li,e===Oi)break e;case Li:i.mode=Ui;case Ui:if(a>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=a,i.hold=l,i.bits=c,mu(t,u),s=t.next_out,o=t.output,d=t.avail_out,r=t.next_in,n=t.input,a=t.avail_in,l=i.hold,c=i.bits,i.mode===fe&&(i.back=-1);break}for(i.back=0;w=i.lencode[l&(1<<i.lenbits)-1],x=w>>>24,M=w>>>16&255,A=w&65535,!(x<=c);){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(M&&(M&240)==0){for(g=x,C=M,U=A;w=i.lencode[U+((l&(1<<g+C)-1)>>g)],x=w>>>24,M=w>>>16&255,A=w&65535,!(g+x<=c);){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}l>>>=g,c-=g,i.back+=g}if(l>>>=x,c-=x,i.back+=x,i.length=A,M===0){i.mode=Bs;break}if(M&32){i.back=-1,i.mode=fe;break}if(M&64){t.msg="invalid literal/length code",i.mode=T;break}i.extra=M&15,i.mode=js;case js:if(i.extra){for(k=i.extra;c<k;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.length+=l&(1<<i.extra)-1,l>>>=i.extra,c-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=Zs;case Zs:for(;w=i.distcode[l&(1<<i.distbits)-1],x=w>>>24,M=w>>>16&255,A=w&65535,!(x<=c);){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if((M&240)==0){for(g=x,C=M,U=A;w=i.distcode[U+((l&(1<<g+C)-1)>>g)],x=w>>>24,M=w>>>16&255,A=w&65535,!(g+x<=c);){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}l>>>=g,c-=g,i.back+=g}if(l>>>=x,c-=x,i.back+=x,M&64){t.msg="invalid distance code",i.mode=T;break}i.offset=A,i.extra=M&15,i.mode=Fs;case Fs:if(i.extra){for(k=i.extra;c<k;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}i.offset+=l&(1<<i.extra)-1,l>>>=i.extra,c-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=T;break}i.mode=$s;case $s:if(d===0)break e;if(h=u-d,i.offset>h){if(h=i.offset-h,h>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=T;break}h>i.wnext?(h-=i.wnext,p=i.wsize-h):p=i.wnext-h,h>i.length&&(h=i.length),m=i.window}else m=o,p=s-i.offset,h=i.length;h>d&&(h=d),d-=h,i.length-=h;do o[s++]=m[p++];while(--h);i.length===0&&(i.mode=Ui);break;case Bs:if(d===0)break e;o[s++]=i.length,d--,i.mode=Ui;break;case Gn:if(i.wrap){for(;c<32;){if(a===0)break e;a--,l|=n[r++]<<c,c+=8}if(u-=d,t.total_out+=u,i.total+=u,u&&(t.adler=i.check=i.flags?Z(i.check,o,u,s-u):Ct(i.check,o,u,s-u)),u=d,(i.flags?l:Ps(l))!==i.check){t.msg="incorrect data check",i.mode=T;break}l=0,c=0}i.mode=qs;case qs:if(i.wrap&&i.flags){for(;c<32;){if(a===0)break e;a--,l+=n[r++]<<c,c+=8}if(l!==(i.total&4294967295)){t.msg="incorrect length check",i.mode=T;break}l=0,c=0}i.mode=Vs;case Vs:N=Au;break e;case T:N=_s;break e;case Hs:return ys;case Eu:default:return K}return t.next_out=s,t.avail_out=d,t.next_in=r,t.avail_in=a,i.hold=l,i.bits=c,(i.wsize||u!==t.avail_out&&i.mode<T&&(i.mode<Gn||e!==xs))&&Ks(t,t.output,t.next_out,u-t.avail_out),f-=t.avail_in,u-=t.avail_out,t.total_in+=f,t.total_out+=u,i.total+=u,i.wrap&&u&&(t.adler=i.check=i.flags?Z(i.check,o,u,t.next_out-u):Ct(i.check,o,u,t.next_out-u)),t.data_type=i.bits+(i.last?64:0)+(i.mode===fe?128:0)+(i.mode===Li||i.mode===Pn?256:0),(f===0&&u===0||e===xs)&&N===Ze&&(N=Su),N},Lu=t=>{if(!t||!t.state)return K;let e=t.state;return e.window&&(e.window=null),t.state=null,Ze},Uu=(t,e)=>{if(!t||!t.state)return K;const i=t.state;return(i.wrap&2)==0?K:(i.head=e,e.done=!1,Ze)},ju=(t,e)=>{const i=e.length;let n,o,r;return!t||!t.state||(n=t.state,n.wrap!==0&&n.mode!==Ri)?K:n.mode===Ri&&(o=1,o=Ct(o,e,i,0),o!==n.check)?_s:(r=Ks(t,e,i,i),r?(n.mode=Hs,ys):(n.havedict=1,Ze))};var Zu=Ys,Fu=Qs,$u=Gs,Bu=Tu,qu=Ws,Vu=Ru,Hu=Lu,Pu=Uu,Gu=ju,Yu="pako inflate (from Nodeca project)",pe={inflateReset:Zu,inflateReset2:Fu,inflateResetKeep:$u,inflateInit:Bu,inflateInit2:qu,inflate:Vu,inflateEnd:Hu,inflateGetHeader:Pu,inflateSetDictionary:Gu,inflateInfo:Yu};function Qu(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Wu=Qu;const Xs=Object.prototype.toString,{Z_NO_FLUSH:Ju,Z_FINISH:Ku,Z_OK:Zt,Z_STREAM_END:Wn,Z_NEED_DICT:Jn,Z_STREAM_ERROR:Xu,Z_DATA_ERROR:ea,Z_MEM_ERROR:ef}=Mt;function Kn(t){this.options=Ni.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hs,this.strm.avail_out=0;let i=pe.inflateInit2(this.strm,e.windowBits);if(i!==Zt)throw new Error(tt[i]);if(this.header=new Wu,pe.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Lt.string2buf(e.dictionary):Xs.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(i=pe.inflateSetDictionary(this.strm,e.dictionary),i!==Zt)))throw new Error(tt[i])}Kn.prototype.push=function(t,e){const i=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let r,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?Ku:Ju,Xs.call(t)==="[object ArrayBuffer]"?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;;){for(i.avail_out===0&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),r=pe.inflate(i,s),r===Jn&&o&&(r=pe.inflateSetDictionary(i,o),r===Zt?r=pe.inflate(i,s):r===ea&&(r=Jn));i.avail_in>0&&r===Wn&&i.state.wrap>0&&t[i.next_in]!==0;)pe.inflateReset(i),r=pe.inflate(i,s);switch(r){case Xu:case ea:case Jn:case ef:return this.onEnd(r),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(i.avail_out===0||r===Wn))if(this.options.to==="string"){let d=Lt.utf8border(i.output,i.next_out),l=i.next_out-d,c=Lt.buf2string(i.output,d);i.next_out=l,i.avail_out=n-l,l&&i.output.set(i.output.subarray(d,d+l),0),this.onData(c)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(!(r===Zt&&a===0)){if(r===Wn)return r=pe.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,!0;if(i.avail_in===0)break}}return!0};Kn.prototype.onData=function(t){this.chunks.push(t)};Kn.prototype.onEnd=function(t){t===Zt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Ni.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:pf,deflate:gf,deflateRaw:tf,gzip:mf}=pu;var nf=tf;const ji=class{hasLanguage(t){return Object.prototype.hasOwnProperty.call(ji.lanMap,t)}getLanguages(){return Object.keys(ji.lanMap)}async runCode(t,e){if(!this.hasLanguage(e))return`Language not supported!
`;try{const i=unescape(encodeURIComponent(ji.lanMap[e])),n=unescape(encodeURIComponent(t)),o=`Vlang\0${1}\0${i}\0VTIO_CFLAGS\0${0}\0F.code.tio\0${n.length}\0${n}F.input.tio\0${0}\0Vargs\0${0}\0R`,r=await fetch("https://tio.run/cgi-bin/run/api/",{method:"POST",body:new Blob([nf(of(o),{level:9})])});if(!r.ok)return`${r.status} ${r.statusText}`;const s=await r.text(),a=s.slice(0,16),d=s.split(`
`);if(!s.includes("Real time:"))return s.split(a).join("");for(let u=d.length-1;u>=0;u--){const h=d[u];if(h.startsWith(a)||(d.pop(),h.startsWith("Real time:")))break}const l=d.join(`
`),[c,f]=l.slice(16).split(a);return f||c}catch(i){return`${i instanceof Error?i.message:String(i)}
`}}};let ta=ji;ta.lanMap={clojure:"clojure",coffeescript:"coffeescript",c:"c-gcc",cpp:"cpp-gcc",csharp:"cs-mono",dart:"dart",elixir:"elixir",fsharp:"fs-mono",go:"go",java:"java-jdk",javascript:"javascript-node",julia:"julia",kotlin:"kotlin",lua:"lua","objective-c":"objective-c-gcc",pascal:"pascal-fpc",perl:"perl6",php:"php",powershell:"powershell",python:"python3",r:"r",ruby:"ruby",rust:"rust",scala:"scala",shell:"bash",sql:"spl",swift:"swift4",tcl:"tcl",typescript:"typescript",vb:"vb-core"};function of(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}class rf{constructor(e,i,n,o,r){this.context=e,this.attrs=i,this.box=n,this.monaco=o,this.readonly=r,this.compiler=new ta,this.sideEffect=new qt,this.terminal=new vd(e,i,this.compiler),this.yDoc=new He,this.yText=this.yDoc.getText("monaco"),this.$container=this.renderContainer(),this.box.mountContent(this.$container);const s=document.createElement("div");s.className=this.wrapClassName("editor"),this.$container.appendChild(s),this.editor=this.monaco.editor.create(s,{value:"",automaticLayout:!0,readOnly:r,language:this.attrs.lang,fixedOverflowWidgets:!1,theme:n.darkMode?"vs-dark":"vs"}),this.sideEffect.add(()=>{const a=d=>{this.monaco.editor.setTheme(d?"vs-dark":"vs")};return n.events.on("dark_mode",a),()=>n.events.off("dark_mode",a)}),this.$footer=this.renderFooter(),this.$container.appendChild(this.$footer),this.yBinding=new kd(e,i,n,this.monaco,this.editor,this.yDoc,this.yText,r)}setReadonly(e){e!==this.readonly&&(this.readonly=e,this.editor.updateOptions({readOnly:e}),this.yBinding.setReadonly(e),this.$footer&&(this.$footer.querySelectorAll("input").forEach(i=>i.disabled=e),this.$footer.querySelectorAll("select").forEach(i=>i.disabled=e),this.$footer.querySelectorAll("button").forEach(i=>i.disabled=e)))}renderContainer(){const e=document.createElement("div");return e.className=this.wrapClassName("editor-container"),e}renderFooter(){const e=document.createElement("div");e.className=this.wrapClassName("footer");const i=document.createElement("div");i.className=this.wrapClassName("footer-ctrl"),e.appendChild(i);const n=document.createElement("select");n.className=this.wrapClassName("lang-select"),n.disabled=this.readonly,this.monaco.languages.getLanguages().forEach(r=>{const s=document.createElement("option");s.value=r.id,s.textContent=r.id,n.appendChild(s)}),n.value=this.attrs.lang,i.appendChild(n);const o=document.createElement("button");return o.className=this.wrapClassName("run-code"),o.textContent="Run",o.disabled=!this.compiler.hasLanguage(this.attrs.lang)||this.readonly,i.appendChild(o),this.sideEffect.addEventListener(n,"change",()=>{const r=n.value;!this.readonly&&r&&r!==this.attrs.lang&&this.context.updateAttributes(["lang"],r)}),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.lang,r=>{r&&(this.monaco.editor.setModelLanguage(this.yBinding.monacoModel,r),n.value=r,o.disabled=!this.compiler.hasLanguage(r))})),this.sideEffect.add(()=>this.context.mobxUtils.reaction(()=>this.attrs.codeRunning,r=>{o.disabled=r})),this.sideEffect.addEventListener(o,"click",async()=>{const r=this.editor.getValue();this.readonly||!r.trim()||(this.context.updateAttributes(["codeRunning"],!0),await this.terminal.runCode(r,this.attrs.lang),this.context.updateAttributes(["codeRunning"],!1))}),e.appendChild(this.terminal.$content),e}wrapClassName(e){return`netless-app-monaco-${e}`}destroy(){this.editor.dispose()}}const bf={kind:ra,async setup(t){const e=t.getBox(),i=sa(t,{text:"",cursors:{},selections:{},lang:"javascript",terminal:"",codeRunning:!1});e.mountStyles(aa+la);const n=t.getAppOptions();n&&n.loader&&mo.config(n.loader);const o=await mo.init(),r=new rf(t,i,e,o,!t.getIsWritable()),s=new md(t,i,r.yDoc,r.yText);return t.emitter.on("writableChange",a=>{r.setReadonly(!a)}),t.emitter.on("destroy",()=>{s.destroy(),r.destroy()}),r}};export{bf as default};
